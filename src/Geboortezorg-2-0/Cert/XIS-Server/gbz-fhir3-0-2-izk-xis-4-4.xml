<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://hl7.org/fhir/STU3/testscript.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<TestScript xmlns="http://hl7.org/fhir"
            xmlns:nts="http://nictiz.nl/xsl/testscript"
            nts:scenario="server">
   <id value="gbz-fhir3-0-2-ikz-xis-4-4"/>
   <version value="stu3-3.0"/>
   <name value="Nictiz Geboortezorg - Server - Scenario 4.4 - Serve Integrale Zwangerschapskaart resources of Willemijn W Yzendoorn van den Berg"/>
   <description value="Scenario 4.4: Serve Integrale Zwangerschapskaart resources of Willemijn W Yzendoorn van den Berg"/>
   <nts:authToken patientResourceId="WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG"/>
   <nts:include value="gbz-variable-episode-id" name="episode-id" sourceId="fixture-5-ServeMaternalRecord"/>
   <variable><name value="T"/><defaultValue value="${CURRENTDATE}"/></variable>
   
   <!-- Patient - Zwangere vrouw -->
   <test id="1-ServeWoman">
      <name value="1-ServeWoman"/>
      <description value="Query Patient resource for HCIM Patient"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Patient"/>         
      </nts:include>   
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Patient"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="atLeast"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-Woman-WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG.xml"
                          nts:in-targets="CheckContent"/>
   </test>      
   
   <!-- Coverage - Verzekeraar -->
   <test id="2-ServePayer">
      <name value="2-ServePayer"/>
      <description value="Query Coverage resource for HCIM Payer"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Coverage"/>         
      </nts:include>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Coverage"/>
         <nts:with-parameter name="count" value="0"/>
      </nts:include>
   </test>
   
   <!-- FamilyMemberHistory - Familiegeschiedenis -->
   <test id="3-ServeFamilyMemberHistory">
      <name value="3-ServeFamilyMemberHistory"/>
      <description value="Query FamilyMemberHistory resource for FamilyMemberHistory"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="FamilyMemberHistory"/>         
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="FamilyMemberHistory"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-FamilyMemberHistory-544ef33f-6aeb-11ec-2111-020000000000.xml"
         nts:in-targets="CheckContent"/>
   </test>
   
   <!-- DeviceUseStatement - Urinekatheter -->
   <test id="4-ServeDeviceUseStatement">
      <name value="4-ServeDeviceUseStatement"/>
      <description value="Query DeviceUseStatement resource for HCIM BladderFunction-UrineCatheter"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="DeviceUseStatement"/>         
         <nts:with-parameter name="params" value="?_include=DeviceUseStatement:device"/>
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="DeviceUseStatement"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-MedicalDevice-MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000.xml"
         nts:in-targets="CheckContent"/>
   </test>
   
   <!-- EpisodeOfCare - zorgepisode zwangerschap -->
   <test id="5-ServeMaternalRecord">
      <name value="5-ServeMaternalRecord"/>
      <description value="Test Server query operation for MaternalRecord (EpisodeOfCare) including managing organization (Organization) and care manager (Practitioner)"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="EpisodeOfCare"/>
         <nts:with-parameter name="params" value="?type=http://snomed.info/sct|364320009&amp;_include=EpisodeOfCare:organization&amp;_include=EpisodeOfCare:care-manager"/>
         <nts:with-parameter name="responseId" value="fixture-5-ServeMaternalRecord"/>
      </nts:include>
      <nts:include value="assert.response.numResources"
         scope="common"
         resource="EpisodeOfCare"
         count="1"/>
      <nts:include value="assert.response.numResources"
         scope="common"
         resource="Organization"
         count="1"/>
      <nts:include value="assert.response.numResources"
         scope="common"
         resource="Practitioner"
         count="1"/>
      <nts:contentAsserts href="mm-gbz-bc-MaternalRecord-14d1a1ff-6b66-11ec-0000-020000000000.xml"
         nts:in-targets="CheckContent"/>      
      <nts:contentAsserts href="mm-gbz-nl-core-organization-organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806.xml"
         nts:in-targets="CheckContent"/>
      <nts:contentAsserts href="mm-gbz-nl-core-practitioner-practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322.xml"
         nts:in-targets="CheckContent"/>
   </test>
   
   <!-- Conditions - Problemen gerelateerd aan zorgepisode incl. zwangerschap -->
   <test id="6a-ServeConditions">
      <name value="6a-ServeConditions"/>
      <description value="Test Server query operation for Conditions (including Pregnancy)"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}"/>
      </nts:include> 
      <nts:include value="assert.response.numResources" scope="common" resource="Condition" count="5"/>
      <!-- Zwangerschap -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Zwangerschap)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="118185001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy118185001-8e9592ff-6aab-11ec-2334-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='118185001'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Groeiachterstand -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Groeiachterstand)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="22033007"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfPregnancy22033007-f66cf54e-6b05-11ec-2118-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='22033007'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Neonatale hypoglykemie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Neonatale hypoglykemie)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="52767006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfChild52767006-10a0e47f-6b01-11ec-2150-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='52767006'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Fractuur van clavicula -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Fractuur van clavicula)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="58150001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfChild58150001-7b9a287f-6ae0-11ec-2149-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='58150001'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Endometritis -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="Endometritis"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="78623009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderPostPartum78623009-2318d9ce-6b5f-11ec-2230-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='78623009'))</nts:discriminator>
      </nts:contentAsserts>
   </test>
   
   <!-- Conditions - Problemen gerelateerd aan Contact Partusassistentie (Encounter ChildBirthAssistance)  -->
   <test id="6b-ServeConditions">
      <name value="6b-ServeConditions"/>
      <description value="Test Server query operation for Conditions (including Pregnancy)"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?context:Encounter.episodeofcare=EpisodeOfCare/${episode-id}"/>
      </nts:include> 
      <nts:include value="assert.response.numResources" scope="common" resource="Condition" count="2"/>
      <!-- Verdenking foetale nood -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Verdenking foetale nood)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="12867002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfLaborAndDelivery12867002-d560a4ce-6b3f-11ec-2156-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='12867002'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- Foetale nood durante partu-->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Foetale nood durante partu)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="288274003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfLaborAndDelivery288274003-8f7c279f-6a99-11ec-2159-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='288274003'))</nts:discriminator>
      </nts:contentAsserts>
   </test>
   
   <!-- Encounters -->
   <test id="7-ServeEncounters">
      <name value="7-ServeEncounters"/>
      <description value="Test Server query operation for Encounters"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Encounter"/>
         <nts:with-parameter name="params" value="?episodeofcare=${episode-id}&amp;_include=Encounter:practitioner"/>
      </nts:include>  
      <nts:include value="assert.response.numResources" scope="common" resource="Encounter" count="3"/>
      <nts:include value="assert.response.numResources" scope="common" resource="Practitioner" count="1"/>
      <!-- Prenatale controle -->
      <nts:include value="assert.response.numResourcesWithCode" scope="common">
         <nts:with-parameter name="additionalDescription" value="(ContactSoort)"/>
         <nts:with-parameter name="codedElement" value="type"/>
         <nts:with-parameter name="resource" value="Encounter"/>
         <nts:with-parameter name="count" value="2"/>
         <nts:with-parameter name="code" value="11429006"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-Encounter-4ba44b1f-6aee-11ec-1275-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>class.where(coding.where(code='FLD'))</nts:discriminator>
      </nts:contentAsserts>
      <nts:contentAsserts href="mm-gbz-bc-Encounter-430238a3-6af7-11ec-1275-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>class.where(coding.where(code='HH'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Partusassistentie -->
      <nts:include value="assert.response.numResourcesWithCode" scope="common">
         <nts:with-parameter name="additionalDescription" value="(ContactSoort)"/>
         <nts:with-parameter name="codedElement" value="type"/>
         <nts:with-parameter name="resource" value="Encounter"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="236973005"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-ChildBirthAssistance-a0cecf3f-6ad4-11ec-1071-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>type.where(coding.where(code='HH'))</nts:discriminator>
      </nts:contentAsserts>
   </test>
   
   <!-- Observations - Observaties gekoppeld aan episode -->
   <test id="8a-ServeObservations">
      <name value="8a-ServeObservations"/>
      <description value="Test Server query operation for Observations"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}"/>
      </nts:include>  
      <!-- parity -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(parity)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="11977-6"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-Parity11977-6-c3318aaf-6b5f-11ec-2334-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='11977-6'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- gravidity -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(gravidity)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="11996-6"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-Gravidity11996-6-d714b6bf-6b22-11ec-2334-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='11996-6'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- a terme datum -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geschatte a terme datum)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="161714006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation161714006-9b22e4ee-6b40-11ec-2334-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='161714006'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- datum laatste menstruatie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geschatte a terme datum)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="8665-2"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-DateLastMenstruation8665-2-15fc3c00-6b42-11ec-2335-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='8665-2'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- vaccinatie kinkhoest -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(vaccinatie kinkhoest)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="39343008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation39343008-281dc7ef-6b5a-11ec-2436-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='39343008'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- voorgeschiedenis trisomie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(voorgeschiedenis trisomie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="390281000146101"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation390281000146101-014a50ff-6b34-11ec-1027-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='390281000146101'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- plaats voorkeur bevalling -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(plaats voorkeur bevalling)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="142961000146102"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation142961000146102-06dbcb2d-6ade-11ec-2225-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='142961000146102'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- voorgenomen lijn in zorg -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(voorgenomen lijn in zorg)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="159821000146107"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation159821000146107-7d2400cf-6ab4-11ec-2333-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='159821000146107'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- voorgenomen voeding -->
      <!--iets gaat er niet goed hier met id? checken-->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(voorgenomen voeding)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="169740003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation169740003-b4808c2f-6b75-11ec-2227-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='169740003'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- zorg voor kind -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(zorg voor kind)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="129879003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation129879003-272aac80-6afe-11ec-2998-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='129879003'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- hartslag -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(hartslag)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="8893-0"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-PulseRate8893-0-7792504f-6aea-11ec-2275-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='8893-0'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- urinatie geweest -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(urinatie geweest)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="249278006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation249278006-e13f72d4-6ac4-11ec-1077-020000000000.xml"
         nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='249278006'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- lochia -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(lochia)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="2"/>
         <nts:with-parameter name="code" value="249211006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <!-- lochia: selectie T-320D ('grote hoeveelheid') -->
      <nts:contentAsserts href="mm-gbz-nl-core-observation249211006-fd60b5ce-6af2-11ec-2310-020000000000.xml" 
         selector="iif(Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[0].effective.toDateTime() &lt; Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[1].effective.toDateTime(), Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[0], Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[1])"
         nts:in-targets="CheckContent"/>
      <!-- lochia: selectie T-315D -->
      <nts:contentAsserts href="mm-gbz-nl-core-observation249211006-3148440f-6b7b-11ec-2797-020000000000.xml" 
         selector="iif(Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[0].effective.toDateTime() &gt; Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[1].effective.toDateTime(), Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[0], Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006')))[1])"
         nts:in-targets="CheckContent"/>  

      <!-- bevindingen borsten -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(bevindingen borsten)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="116339002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation116339002-f403f58f-6ac6-11ec-2285-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='116339002'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- flatusincontinentie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(flatusincontinentie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="249508009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation249508009-64f732d4-6b7d-11ec-1067-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='249508009'))</nts:discriminator>
      </nts:contentAsserts>   
      <!-- voorlichting anticonceptie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(voorlichting anticonceptie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="150811000119101"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation150811000119101-197537c6-6b7a-11ec-2432-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='150811000119101'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- conditie perineum -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(conditie perineum)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364297003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364297003-884951cf-6af1-11ec-2795-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364297003'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- bloeddruk (nacontrole) -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(bloeddruk (nacontrole))"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="85354-9"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-BloodPressure85354-9-517a25ea-6ae5-11ec-2106-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='85354-9'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- lichaamstemperatuur -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(lichaamstemperatuur)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="8310-5"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation8310-5-35de3e6f-6aa0-11ec-2279-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='8310-5'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- zwangerschapsduur -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(zwangerschapsduur)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="3"/>
         <nts:with-parameter name="code" value="57036006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-Duration57036006-1e4c9ad8-6ac2-11ec-2334-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='57036006'))</nts:discriminator>
         <nts:discriminator>value.where(value='56')</nts:discriminator>
      </nts:contentAsserts>  
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-Duration57036006-925236bf-6ab4-11ec-2702-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='57036006'))</nts:discriminator>
         <nts:discriminator>value.where(value='209')</nts:discriminator>
      </nts:contentAsserts>  
      <nts:contentAsserts href="mm-gbz-zib-Pregnancy-Duration57036006-1d638062-6b49-11ec-1069-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='57036006'))</nts:discriminator>
         <nts:discriminator>value.where(value='258')</nts:discriminator>
      </nts:contentAsserts>  
      <!-- blaasfunctie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(blaasfunctie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="28278009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-BladderFunction28278009-BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='28278009'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- darmfunctie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(darmfunctie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="111989001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-BowelFunction111989001-BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='111989001'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- uteruscontracties TODO: check of deze niet onder contact verlossing hoort -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(uteruscontracties)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364277008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364277008-7146c3ef-6a97-11ec-2176-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364277008'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- hb -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(uteruscontracties)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="93846-4"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-LaboratoryTestResult-Observation93846-4-LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='93846-4'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- woonsituatie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(woonsituatie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="365508006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-LivingSituation365508006-1cd7cabf-6b79-11ec-2172-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='365508006'))</nts:discriminator>
      </nts:contentAsserts> 
      <!--leeftijd eiceldonor-->
      <!--TODO code ontbreekt in onderstaande, toevoegen-->
      <!--      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="leeftijd eiceldonor"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="xxx"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation-5c54a78a-6aca-11ec-2789-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='xxx'))</nts:discriminator>
      </nts:contentAsserts> -->
           
      <!-- foetus -->
      <!-- echo bevindingen algemeen -->
      
      <!--iets gaat er niet goed hier met id? checken-->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(echo bevindingen algemeen)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="370379002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
       <nts:contentAsserts href="mm-gbz-nl-core-observation370379002-162f7dbf-6b39-11ec-2891-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='370379002'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- buikomtrek -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(buikomtrek)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="11979-2"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation11979-2-787efb9f-6b29-11ec-2351-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='11979-2'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- hoofdomtrek -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(hoofdomtrek)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="363812007"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
       <nts:contentAsserts href="mm-gbz-zib-HeadCircumference363812007-e20e2e86-6aee-11ec-2362-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='363812007'))</nts:discriminator>
      </nts:contentAsserts>  
      
      <!-- kind -->
      <!-- feces -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(feces)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="249612005"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation249612005-16f64220-6aef-11ec-2993-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='249612005'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- vitamine K -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(vitamine K)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="698350008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation698350008-896d47ef-6abb-11ec-1075-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='698350008'))</nts:discriminator>
      </nts:contentAsserts>  
      <!--gezinssituatie kind-->
      <!--TO DO, ik mis een code om hier toe te voegen, zit ook niet in fixture-->
<!--      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="gezinssituatie kind"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="yyy"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-FamilySituationChild-df6edffa-6a9f-11ec-2292-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='yyy'))</nts:discriminator>
      </nts:contentAsserts>  -->
      <!-- neonatale sterfte -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(neonatale sterfte)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="276506001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation276506001-5227d9b5-6b37-11ec-2175-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='276506001'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- geboortegewicht -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geboortegewicht)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="8339-4"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation8339-4-05c0b35f-6b33-11ec-2141-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='8339-4'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- geboortelengte -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geboortelengte)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="89269-5"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-BodyHeight89269-5-17378d46-6b35-11ec-2142-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='89269-5'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Apgar 1 minuut -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar 1 minuut)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="9272-6"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-ApgarScore9272-6-622ece8f-6b63-11ec-2140-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='9272-6'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Apgar 5 minuten -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar 5 minuten)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="9274-2"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-ApgarScore9274-2-513e600f-6ab8-11ec-2966-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='9274-2'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Apgar 10 minuten -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar 10 minuten)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="9271-8"/>
         <nts:with-parameter name="system" value="http://loinc.org"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-ApgarScore9271-8-38e392be-6b3a-11ec-2967-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='9271-8'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding huid -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding huid)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364528001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364528001-697342df-6b53-11ec-2296-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364528001'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding hoofd-hals -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding hoofd-hals)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364403006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364403006-cdcf7a8f-6a9c-11ec-2296-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364403006'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding thorax -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding thorax)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364434005"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364434005-b1e5da8f-6b69-11ec-2297-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364434005'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding abdomen -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding abdomen)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364446009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364446009-1b201a8f-6b77-11ec-2307-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364446009'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding rug -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding rug)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364415005"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364415005-8b805a8f-6ae9-11ec-2307-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364415005'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding extremiteiten -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding extremiteiten)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="363799009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation363799009-0cfcda8f-6b34-11ec-2308-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='363799009'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding genitalia -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding genitalia)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364204002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364204002-2f5e1a8f-6b6b-11ec-2304-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364204002'))</nts:discriminator>
      </nts:contentAsserts>
      <!-- Bevinding neurologie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bevinding neurologie)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="363820009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>    
      <nts:contentAsserts href="mm-gbz-nl-core-observation363820009-caf08a8f-6b6d-11ec-2308-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='363820009'))</nts:discriminator>
      </nts:contentAsserts>    
      <!-- voedingspatroon zuigeling -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(voedingspatroon zuigeling)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="289145007"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation289145007-82da0a04-6a99-11ec-2793-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='289145007'))</nts:discriminator>
      </nts:contentAsserts>  
   </test>
   
   <!-- Observations - Observaties gekoppeld aan prenatale controle -->
   <test id="8b-ServeObservations">
      <name value="8b-ServeObservations"/>
      <description value="Test Server query operation for Observations"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?context:Encounter.episodeofcare=EpisodeOfCare/${episode-id}"/>
      </nts:include>  
      <!-- bewegingspatroon foetus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(bewegingspatroon foetus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364618000"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364618000-b1e145bf-6ab0-11ec-2213-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364618000'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- hoogte uterus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(hoogte uterus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364265003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364265003-76f90ee2-6b73-11ec-2404-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364265003'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- ligging foetus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(ligging foetus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="249062004"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation249062004-c050bc96-6aee-11ec-2406-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='249062004'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- indaling foetus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(indaling foetus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364611006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364611006-27e02a7f-6add-11ec-2407-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364611006'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- tijdstip gebroken vliezen -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(tijdstip gebroken vliezen)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="289251005"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation289251005-bfc4e51e-6ac5-11ec-2410-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='289251005'))</nts:discriminator>
      </nts:contentAsserts>  
      <!-- vruchtwater -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(vruchtwater)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="168089007"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation168089007-dd72bb4f-6b15-11ec-2412-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='168089007'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- type partus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(type partus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364336006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364336006-f923a4bf-6b1c-11ec-2414-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364336006'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- ligging kind -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(ligging kind)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="271692001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation271692001-fde05cbf-6b0c-11ec-2416-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='271692001'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- plaats baring -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(plaats baring)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="366344009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation366344009-68cdb57f-6ace-11ec-2419-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='366344009'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- geboorte placenta -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geboorte placenta)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="236994008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation236994008-6784b58f-6ae0-11ec-2421-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='236994008'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- tijdstip geboorte placenta -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(tijdstip geboorte placenta)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="136311000146100"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation136311000146100-c08597cf-6b4f-11ec-2423-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='136311000146100'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- compleetheid placenta -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(compleetheid placenta)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364343000"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364343000-980bcd0f-6aeb-11ec-2424-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364343000'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- placenta PA -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(placenta PA)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="168123008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation168123008-24bf3ccf-6b1c-11ec-2425-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='168123008'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- testuitslag PA -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(testuitslag PA)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="726566009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation726566009-2afc5926-6b10-11ec-2426-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='726566009'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- vruchtvliezen -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(vruchtvliezen)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364351002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364351002-382a96cf-6b4d-11ec-2427-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364351002'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- navelstreng -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(navelstreng)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="249191003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation249191003-468beaf4-6b5c-11ec-2429-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='249191003'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- bloedverlies -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(bloedverlies)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="364332008"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation364332008-a46197ee-6ae9-11ec-2396-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='364332008'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- datum begin eerste fase partus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(datum begin eerste fase partus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="160621000146107"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation160621000146107-d7b0ca60-6b14-11ec-2408-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='160621000146107'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- wijze begin eerste fase partus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(wijze begin eerste fase partus)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="160611000146102"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-nl-core-observation160611000146102-5ca1857f-6ac5-11ec-2409-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='160611000146102'))</nts:discriminator>
      </nts:contentAsserts> 
   </test>
   
   <!-- Alle verrichtingen -->
   <test id="9-ServeProcedures">
      <name value="9-ServeProcedures"/>
      <description value="Test Server query operation for (Obstetric) Procedures"/>
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}&amp;_include=Procedure:performer&amp;_include=Procedure:based-on"/>
      </nts:include>     
      <nts:include value="assert.response.numResources" scope="common" resource="Procedure" count="7"/>
<!--      <nts:include value="assert.response.numResources" scope="common" resource="Organization" count="0"/>
      <nts:include value="assert.response.numResources" scope="common" resource="ProcedureRequest" count="0"/>-->
      <!-- echografie foetus -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(echografie foetus)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="241491007"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-ObstetricProcedure241491007-056324ee-6acd-11ec-2119-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='241491007'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- bevalling -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(bevalling)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="236973005"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DeliveryProcedure236973005-b6353a4f-6b23-11ec-2123-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='236973005'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- vaginaal toucher -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(vaginaal toucher)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="51597003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-ObstetricProcedure51597003-301e89cf-6aba-11ec-2154-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='51597003'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- sectio -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(sectio)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="80801000146105"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-ObstetricProcedure80801000146105-22012bfc-6ad7-11ec-2160-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='80801000146105'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- prenatale risico evaluatie -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(ligging foetus)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="713076009"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Procedure713076009-a02f847a-6b10-11ec-2241-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='713076009'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- manuele verwijdering achtergebleven placenta -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(manuele verwijdering achtergebleven placenta)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="28233006"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-Procedure28233006-49646dfa-6b05-11ec-2108-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='28233006'))</nts:discriminator>
      </nts:contentAsserts> 
      <!-- geboorte -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(geboorte)"/>
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="3950001"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-Birth3950001-ec528aff-6b4c-11ec-2123-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='3950001'))</nts:discriminator>
      </nts:contentAsserts>      
   </test>
   
   <!-- Echoverslag -->
   <test id="10-ServeDiagnosticReport">
      <name value="10-ServeDiagnosticReport"/>
      <description value="Test Server query operation for DiagnosticReport"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="DiagnosticReport"/>
         <nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}"/>
      </nts:include>  
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="DiagnosticReport"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-PregnancyUltraSound713076009-cd55d5bf-6af4-11ec-2120-020000000000.xml"
         nts:in-targets="CheckContent">
      </nts:contentAsserts>
   </test>
   
   <!-- Zorgteam -->
   <test id="11-ServeCareTeam">
      <name value="11-ServeCareTeam"/>
      <description value="Test Server query operation for CareTeam"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="CareTeam"/>
         <nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}"/>
      </nts:include>   
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="CareTeam"/>
         <nts:with-parameter name="count" value="0"/>
      </nts:include>
   </test>
   
   <!-- Consent -->
   <test id="12-ServeConsent">
      <name value="12-ServeConsent"/>
      <description value="Test Server query operation for Consent"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="Consent"/>
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Consent"/>
         <nts:with-parameter name="count" value="0"/>
      </nts:include>
   </test>
   
   <!-- RelatedPerson -->
   <test id="13-RelatedPerson">
      <name value="13-RelatedPerson"/>
      <description value="Test Server query operation for RelatedPerson"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="RelatedPerson"/>
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="RelatedPerson"/>
         <nts:with-parameter name="count" value="3"/>
      </nts:include>
      <!-- Lilian TODO: add discriminator or selector -->
      <nts:contentAsserts href="mm-gbz-nl-core-relatedperson-relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN.xml" 
         nts:in-targets="CheckContent"/>
      <!-- Lilian TODO: relatedperson jasper is niet gevonden -->
      <nts:contentAsserts href="mm-gbz-nl-core-relatedperson-relatedperson-mm-gbz-JASPERXXX-YZENDOORN.xml" 
         nts:in-targets="CheckContent"/>
      <nts:contentAsserts href="mm-gbz-nl-core-relatedperson-relatedperson-mm-gbz-9b9fa72a-6b21-11ec-1294-020000000000.xml" 
         nts:in-targets="CheckContent"/>
   </test>     
   
   <!-- Conclusie professioneel onderzoek -->
   <test id="14-ClinicalImpression">
      <name value="14-ClinicalImpression"/>
      <description value="Test Server query operation for ClinicalImpression"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="ClinicalImpression"/>
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="ClinicalImpression"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-ClinicalImpression386053000-0c23387e-6b4e-11ec-2262-020000000000.xml" 
         nts:in-targets="CheckContent"/>
   </test> 
   
   <!-- ReferralRequest -->
   <!--TO DO: zijn er params hier nodig, want er is geen context element in de fixture aanwezig-->
   <test id="15-ServeReferralRequest">
      <name value="15-ServeReferralRequest"/>
      <description value="Test Server query operation for ReferralRequest"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="ReferralRequest"/>
         <!--<nts:with-parameter name="params" value="?context=EpisodeOfCare/${episode-id}"/>-->
      </nts:include>   
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="ReferralRequest"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
   </test>
   
   <!-- Allergie/Intolerantie -->
   <test id="16-AllergyIntolerance">
      <name value="16-AllergyIntolerance"/>
      <description value="Test Server query operation for AllergyIntolerance"/>  
      <nts:include value="medmij/test.xis.successfulSearch" scope="common">
         <nts:with-parameter name="resource" value="AllergyIntolerance"/>
      </nts:include>    
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="AllergyIntolerance"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-zib-AllergyIntolerance1003755004-AllergyIntolerance-mm-gbz-58fb3178-6a9c-11ec-2111-020000000000.xml" 
         nts:in-targets="CheckContent"/>
   </test> 
   
</TestScript>
