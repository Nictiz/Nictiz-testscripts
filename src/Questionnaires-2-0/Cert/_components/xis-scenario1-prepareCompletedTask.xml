<?xml version="1.0" encoding="UTF-8"?>
<!--
    This component can be used to create fixture from the retreived QuestionnaireProvisioningTask to add the reference
    to the QuestionnaireResponse and set the status to "completed". The result will be stored as a TestScript variable
    (not a fixture) called "task-completed-fixture".

    Heavy lifting of this component is done by the rewrite-response-taskWithQuestionnaireResponse.groovy rule.

    @param qrReference - The Resource.id of the QuestionnaireResponse fixture.
    @param qrDisplay - The display value to use for the reference to the QuestionnaireResponse.
-->
<nts:component xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
    <action>
        <assert>
            <nts:rule id="rewrite-response-taskWithQuestionnaireResponse" href="rules/rewrite-response-taskWithQuestionnaireResponse.groovy"
                varName="task-completed-fixture"
                qrReference="{$qrReference}"
                qrDisplay="{$qrDisplay}">
                <nts:output name="task-completed-fixture"/>
            </nts:rule>
        </assert>
    </action>
</nts:component>
