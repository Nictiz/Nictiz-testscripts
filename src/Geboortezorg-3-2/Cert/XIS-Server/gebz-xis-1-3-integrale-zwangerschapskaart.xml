<?xml version="1.0" encoding="UTF-8"?>
<TestScript xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript" nts:scenario="server">
   <id value="gbz-fhir3-0-2-ikz-xis-1-3"/>
   <version value="stu3-3.0"/>
   <name value="Nictiz Geboortezorg - Server - Scenario 1.3 - Serve Integrale Zwangerschapskaart primary and secondary care resources of multiple pregnancy of Jamila Kwee"/>
   <description value="Scenario 1.3: Serve Integrale Zwangerschapskaart primary care resources of multiple pregnancy of Jamila Kwee"/>
   <nts:patientTokenFixture href="gebz-nl-core-patient-XXX-Kwee-token.xml" />
   <nts:fixture id="patient-fixture" href="Vrouw2-Kaart3-1elijn/medmij-gbz-nl-core-patient-JAMILAJXXX-KWEE.xml"/>
   <nts:fixture id="episodeofcare1-fixture" href="Vrouw2-Kaart3-1elijn/medmij-gbz-bc-MaternalRecord-66aa2fcb-2064-11ec-5265-020000000000.xml"/>
   <nts:fixture id="episodeofcare2-fixture" href="Vrouw2-Kaart3-2elijn/medmij-gbz-bc-MaternalRecord-a490614b-2291-11ec-8669-020000000000.xml"/>
   <variable><name value="patient-id"/><expression value="Patient.id"/><sourceId value="patient-fixture"/></variable>
   <variable><name value="dossier1-id"/><expression value="EpisodeOfCare.id"/><sourceId value="episodeofcare1-fixture"/></variable>
   <variable><name value="dossier2-id"/><expression value="EpisodeOfCare.id"/><sourceId value="episodeofcare2-fixture"/></variable>
   <variable><name value="T"/><defaultValue value="${CURRENTDATE}"/></variable>
   
   <!-- Zwangere vrouw -->
   <test id="01-ServeWoman">
      <name value="01-ServeWoman"/>
      <description value="Query Patient resource for HCIM Patient"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Patient"/>
         <nts:with-parameter name="params" value="?_id=${patient-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Patient"/>
         <nts:with-parameter name="count" value="1"/>
      </nts:include>
   </test>

   <!-- Actieve zwangerschap (dossier) -->
   <test id="02-ServeMaternalRecord">
      <name value="02-ServeMaternalRecord"/>
      <description value="Test Server query operation for MaternalRecord (EpisodeOfCare) including managing organization (Organization) and care manager (Practitioner)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="EpisodeOfCare"/>
         <nts:with-parameter name="params" value="?patient=${patient-id}&amp;type=http://snomed.info/sct|364320009&amp;status=active&amp;_include=EpisodeOfCare:organization&amp;_include=EpisodeOfCare:care-manager"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="EpisodeOfCare"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Organization"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Practitioner"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Actieve zwangerschap (zwangerschap) -->
   <test id="03-ServePregnancy">
      <name value="03-ServePregnancy"/>
      <description value="Test Server query operation for Pregnancy (Condition)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|364320009&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Observaties bij de zwangerschap --> 
   <test id="04-ServeParity">
      <name value="04-ServeParity"/>
      <description value="Test Server query operation for Parity (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|364325004&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="05-ServeGravidity">
      <name value="05-ServeGravidity"/>
      <description value="Test Server query operation for Gravidity (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|161732006&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="06-ServeEstTermDate">
      <name value="06-ServeEstTermDate"/>
      <description value="Test Server query operation for Estimated TermDate (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|161714006&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="07-ServeDefTermDate">
      <name value="07-ServeDefTermDate"/>
      <description value="Test Server query operation for Definitive TermDate (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|147781000146105&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="08-ServeMultiplePregnancy">
      <name value="08-ServeMultiplePregnancy"/>
      <description value="Test Server query operation for MultiplePregnancy (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|65147003&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="09-ServeNumberOfFetus">
      <name value="09-ServeNumberOfFetus"/>
      <description value="Test Server query operation for Definitive NumberOfFetus (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|246435002&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>   
   
   <test id="10-ServeNumberOfLivingOffSpring">
      <name value="10-ServeNumberOfLivingOffSpring"/>
      <description value="Test Server query operation for NumberOfLivingOffSpring (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|143881000146107&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="11-ServeFetalLoss">
      <name value="11-ServeFetalLoss"/>
      <description value="Test Server query operation for FetalLoss (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|713651007&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="12-ServeFoliumAccidIntake">
      <name value="12-ServeFoliumAccidIntake"/>
      <description value="Test Server query operation for FoliumAccidIntake (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|792807003&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Prenatale controles -->
   <test id="13-ServePrenatalVisits">
      <name value="13-ServePrenatalVisits"/>
      <description value="Test Server query operation for PrenatalVisits (Encounter)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Encounter"/>
         <nts:with-parameter name="params" value="?type=http://snomed.info/sct|18114009&amp;episodeofcare=${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Encounter"></nts:with-parameter>
         <nts:with-parameter name="count" value="3"></nts:with-parameter>
      </nts:include>
   </test> 
   
   <!-- Observaties bij de vrouw / prenatale controles -->  
   <test id="14-ServeFetalMovement">
      <name value="14-ServeFetalMovement"/>
      <description value="Test Server query operation for FetalMovement (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|364618000&amp;context=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|364618000&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="15-ServeBodyWeight">
      <name value="15-ServeBodyWeight"/>
      <description value="Test Server query operation for BodyWeight (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://loinc.org|29463-7&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://loinc.org|29463-7&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="16-ServeBloodPressure">
      <name value="16-ServeBloodPressure"/>
      <description value="Test Server query operation for BloodPressure (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://loinc.org|85354-9&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://loinc.org|85354-9&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="3"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="17-ServeAlcoholUse">
      <name value="17-ServeAlcoholUse"/>
      <description value="Test Server query operation for AlcoholUse (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|228273003&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|228273003&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="18-ServeDrugUse">
      <name value="18-ServeDrugUse"/>
      <description value="Test Server query operation for DrugUse (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|228366006&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|228366006&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="19-ServeTobaccoUse">
      <name value="19-ServeTobaccoUse"/>
      <description value="Test Server query operation for TobaccoUse (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|365980008&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|365980008&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="20-ServeFetalHeartRate">
      <name value="20-ServeFetalHeartRate"/>
      <description value="Test Server query operation for FetalHeartRate (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|249043002&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|249043002&amp;context:Encounter.episodeofcare=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Zwangerschapsproblemen -->
   <test id="21-ServePregnancyConditions">
      <name value="21-ServePregnancyConditions"/>
      <description value="Test Server query operation for Conditions related to pregnancy"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?category=http://snomed.info/sct|173300003&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="3"></nts:with-parameter>
      </nts:include>
      <!-- Meerlingzwangerschap -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Meerlingzwangerschap)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="16356006"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Groeiafwijking -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Groeiafwijking)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="267258002"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Alle verrichtingen -->
   <test id="22-ServeObstetricProcedures">
      <name value="22-ServeObstetricProcedures"/>
      <description value="Test Server query operation for (Obstetric) Procedures"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Procedure"/>
         <nts:with-parameter name="params" value="?category=http://snomed.info/sct|386637004&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}&amp;_include=Procedure:subject&amp;_include=Procedure:performer:Organization"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="12"></nts:with-parameter>
      </nts:include>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Organization"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
      <!-- Verrichting (Zwangerschap) -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Diet control)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="410175003"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Blood exam)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="396550006"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Delivery -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Delivery)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="236973005"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Ziekenhuisbaring -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="()"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Organization"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="element" value="type"></nts:with-parameter>
         <nts:with-parameter name="code" value="V5"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://nictiz.nl/fhir/NamingSystem/organization-type"></nts:with-parameter>
      </nts:include>
      <!--   todo: voor nu nemen we gegevens kind niet mee, wellicht in aparte test ivm afwijkend subject -->
      <!-- Birth -->
      <!--      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Birth)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="3950001"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>-->
      <!-- Opname in ziekenhuis -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Opname in ziekenhuis)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="32485007"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Primaire sectio caesarea -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Primaire sectio caesarea)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="80771000146107"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Vitamine K toediening neonaat -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Vitamine K toediening neonaat)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="698350008:370131001=133933007"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
      <!-- Inflatie long -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Inflatie long)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Procedure"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="243140006"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
   </test>   
   
   <!--Observaties bij de bevalling (maternaal) -->
   <test id="23-ServeOnsetFirstStageOfLabor">
      <name value="23-ServeOnsetFirstStageOfLabor"/>
      <description value="Test Server query operation for OnsetFirstStageOfLabor (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|439771001&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="24-ServeTypeFirstStageOfLabor">
      <name value="24-ServeTypeFirstStageOfLabor"/>
      <description value="Test Server query operation for TypeFirstStageOfLabor (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|249120008&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Observaties bij de geboorte (kindspecifiek) -->
   <test id="25-ServeParturitionType">
      <name value="25-ServeParturitionType"/>
      <description value="Test Server query operation for ParturitionType (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|364336006&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>>
   </test>
   
   <test id="26-ServeNumberOfOffspring">
      <name value="26-ServeNumberOfOffspring"/>
      <description value="Test Server query operation for NumberOfOffspring (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|118861000146102&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <test id="27-ServePlaceOfBirth">
      <name value="27-ServePlaceOfBirth"/>
      <description value="Test Server query operation for PlaceOfBirth (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|169812000&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!-- Problemen bij de bevalling/geboorte -->
   <test id="28-ServeLaborAndDeliveryConditions">
      <name value="28-ServeLaborAndDeliveryConditions"/>
      <description value="Test Server query operation for Conditions related to labor and delivery"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?category=http://snomed.info/sct|362972006&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
      <!-- Liggingsafwijking -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Liggingsafwijking)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="15028002"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
   </test>
   
   <!--   todo: voor nu nemen we gegevens kind niet mee -->
   <!--   <test id="29-ServeChild">
      <name value="29-ServeChild"/>
      <description value="Test Server query operation for Child (Patient)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Patient"/>
         <nts:with-parameter name="params" value="?_id=${child-id}"/> <!-\- ?_has:Procedure:patient:code=http://snomed.info/sct|3950001 -\->
         <!-\- context.condition = pregnancyId -\->
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Patient"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
      </nts:include>
   </test>-->
   
   <!--   todo: voor nu nemen we gegevens kind niet mee -->
   <!--   <test id="30-ServeChildObservations">
      <name value="30-ServeChildObservations"/>
      <description value="Test Server query operation for Child Observations"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?code=http://loinc.org|89269-5&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="5"></nts:with-parameter>
      </nts:include>
      <!-\- Apgar Score 1-minuut -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar Score 1-minuut)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="9272-6"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-\- Apgar Score 5-minuten -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar Score 5-minuten)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="9274-2"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-\- Apgar Score 10-minuten -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Apgar Score 10-minuten)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="9271-8"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-\- Geboortegewicht -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Geboortegewicht)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="8339-4"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-\- Hoofdomtrek -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Hoofdomtrek)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="169876006"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://snomed.info/sct"></nts:with-parameter>
      </nts:include>
   </test>  --> 
   
   <!-- Maternale onderzoeksgegevens -->
   <test id="31-ServeLabObservations">
      <name value="31-ServeLabObservations"/>
      <description value="Test Server query operation for Lab Observations (Observation)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="params" value="?category=http://snomed.info/sct|49581000146104&amp;context=EpisodeOfCare/${dossier1-id},EpisodeOfCare/${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="11"></nts:with-parameter>
      </nts:include>
      <!-- Hb -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Hb)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="4"></nts:with-parameter>
         <nts:with-parameter name="code" value="93846-4"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-- Lab rhesus D -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Rhesus D)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="1305-2"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-- Lab rhesus C -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Rhesus C)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="1159-3"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-- Bloedgroep -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Bloedgroep)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="2"></nts:with-parameter>
         <nts:with-parameter name="code" value="883-9"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>
      <!-- Torch -->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Toxoplasma)"></nts:with-parameter>
         <nts:with-parameter name="resource" value="Observation"></nts:with-parameter>
         <nts:with-parameter name="count" value="1"></nts:with-parameter>
         <nts:with-parameter name="code" value="8039-0"></nts:with-parameter>
         <nts:with-parameter name="system" value="http://loinc.org"></nts:with-parameter>
      </nts:include>  
   </test>
   
   <!-- Lab hb-pathie -->
   <test id="32-ServeLabHbPathy">
      <name value="32-ServeLabHbPathy"/>
      <description value="Test Server query operation for Lab Haemoglobinpathy (Condition)"/>
      <nts:include value="gbz-operation-search-xis">
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="params" value="?code=http://snomed.info/sct|36472007&amp;context=EpisodeOfCare/${dossier1-id},${dossier2-id}"/>
      </nts:include>
      <nts:include value="assert.request.authorizationHeader" scope="common"/>
      <nts:include value="medmij/assert.response.successfulSearch" scope="common" resource="Bundle"/>     <nts:include value="assert.response.queryParamsInSelfLink" scope="common"/>
      <nts:include value="assert.response.numResources" scope="common">
         <nts:with-parameter name="resource" value="Condition"></nts:with-parameter>
         <nts:with-parameter name="count" value="0"></nts:with-parameter>
      </nts:include>
   </test>
   
</TestScript>
