<?xml version="1.0" encoding="UTF-8"?>
<nts:component xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
    <nts:parameter name="warningOnly" value="true"/>
    <!-- <action>
        <assert>
            <description
                value="Confirm that the Bundle contains a(n) {$resource} with the interpretationflag {$code} with system {$system}."/>
            <direction value="{$direction}"/>
            <expression value="Bundle.entry.resource.as({$resource}).interpretation.where(coding.code='{$code}' and coding.system='{$system}' and coding.display.exists()) | Bundle.entry.resource.as({$resource}).valueCodeableConcept.coding.where(code='{$code}' and system='{$system}' and display.exists())"/>
            <warningOnly value="{$warningOnly}"/>
        </assert>
    </action> -->
    <action>
        <assert>
            <description
                value="Confirm that the Bundle contains a(n) {$resource} with the interpretationflag {$code} with system {$system}."/>
            <direction value="{$direction}"/>
            <expression value="Bundle.entry.resource.as({$resource}).{$sort}.coding.where(code='{$code}' and system='{$system}' and display.exists())"/>
            <warningOnly value="{$warningOnly}"/>
        </assert>
    </action>
    <!-- <action>
        <assert>
            <description
                value="Confirm that the Bundle contains a(n) {$resource} with the interpretationflag {$code} with system {$system}."/>
            <direction value="{$direction}"/>
            <expression value="Bundle.entry.resource.as({$resource}).valueCodeableConcept.coding.where(code='{$code}' and system='{$system}' and display.exists())"/>
            <warningOnly value="{$warningOnly}"/>
        </assert>
    </action> -->
</nts:component>

