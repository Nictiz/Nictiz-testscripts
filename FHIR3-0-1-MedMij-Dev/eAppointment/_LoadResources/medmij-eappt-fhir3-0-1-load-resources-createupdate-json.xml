<?xml version="1.0" encoding="UTF-8"?>
<TestScript xmlns="http://hl7.org/fhir">
	<id value="medmij-eappt-fhir3-0-1-load-resources-createupdate-json" />

	<url value="http://nictiz.nl/fhir/fhir3-0-1/TestScript/medmij-eappt-fhir3-0-1-load-resources-createupdate-json" />
	<name value="Nictiz MedMij eAppointment - Load Test Resources - Create Update - JSON" />
	<status value="active" />
	<date value="2018-03-26" />
	<publisher value="Nictiz" />
	<contact>
		<name value="Nictiz"/>
		<telecom>
			<system value="email"/>
			<value value="kwalificatie@nictiz.nl"/>
			<use value="work"/>
		</telecom>
	</contact>
	<description
		value="[OPTIONAL] Load (create) MedMij eAppointment test resources using the update (PUT) operation of the target FHIR server for use in eAppointment qualification testing. All resource ids are pre-defined. The target XIS FHIR server is expected to support resource create via the update (PUT) operation for client assigned ids." />
	<copyright value="Â© Nictiz 2018" />

	<fixture id="patient1-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Patient-kwalificatie1.json" />
		</resource>
	</fixture>
	<fixture id="patient2-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Patient-kwalificatie2.json" />
		</resource>
	</fixture>
	<fixture id="patient3-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Patient-kwalificatie3.json" />
		</resource>
	</fixture>
	<fixture id="practitioner1-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Practitioner-kwalificatie1.json" />
		</resource>
	</fixture>
	<fixture id="practitioner2-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Practitioner-kwalificatie2.json" />
		</resource>
	</fixture>
	<fixture id="practitioner3-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Practitioner-kwalificatie3.json" />
		</resource>
	</fixture>
	<fixture id="location1-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Location-kwalificatie1.json" />
		</resource>
	</fixture>
	<fixture id="location2-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Location-kwalificatie2.json" />
		</resource>
	</fixture>
	<fixture id="location3-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Location-kwalificatie3.json" />
		</resource>
	</fixture>
	<fixture id="appointment1-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie1.json" />
		</resource>
	</fixture>
	<fixture id="appointment2-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie2.json" />
		</resource>
	</fixture>
	<fixture id="appointment3-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie3.json" />
		</resource>
	</fixture>
	<fixture id="appointment4-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie4.json" />
		</resource>
	</fixture>
	<fixture id="appointment5-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie5.json" />
		</resource>
	</fixture>
	<fixture id="appointment6-fixture">
		<resource>
			<reference value="../_reference/resources/eAfspraak-Appointment-kwalificatie6.json" />
		</resource>
	</fixture>

	<variable>
		<name value="patient1-id" />
		<path value=".id" />
		<sourceId value="patient1-fixture" />
	</variable>
	<variable>
		<name value="patient2-id" />
		<path value=".id" />
		<sourceId value="patient2-fixture" />
	</variable>
	<variable>
		<name value="patient3-id" />
		<path value=".id" />
		<sourceId value="patient3-fixture" />
	</variable>
	<variable>
		<name value="practitioner1-id" />
		<path value=".id" />
		<sourceId value="practitioner1-fixture" />
	</variable>
	<variable>
		<name value="practitioner2-id" />
		<path value=".id" />
		<sourceId value="practitioner2-fixture" />
	</variable>
	<variable>
		<name value="practitioner3-id" />
		<path value=".id" />
		<sourceId value="practitioner3-fixture" />
	</variable>
	<variable>
		<name value="location1-id" />
		<path value=".id" />
		<sourceId value="location1-fixture" />
	</variable>
	<variable>
		<name value="location2-id" />
		<path value=".id" />
		<sourceId value="location2-fixture" />
	</variable>
	<variable>
		<name value="location3-id" />
		<path value=".id" />
		<sourceId value="location3-fixture" />
	</variable>
	<variable>
		<name value="appointment1-id" />
		<path value=".id" />
		<sourceId value="appointment1-fixture" />
	</variable>
	<variable>
		<name value="appointment2-id" />
		<path value=".id" />
		<sourceId value="appointment2-fixture" />
	</variable>
	<variable>
		<name value="appointment3-id" />
		<path value=".id" />
		<sourceId value="appointment3-fixture" />
	</variable>
	<variable>
		<name value="appointment4-id" />
		<path value=".id" />
		<sourceId value="appointment4-fixture" />
	</variable>
	<variable>
		<name value="appointment5-id" />
		<path value=".id" />
		<sourceId value="appointment5-fixture" />
	</variable>
	<variable>
		<name value="appointment6-id" />
		<path value=".id" />
		<sourceId value="appointment6-fixture" />
	</variable>

	<!-- No Setup -->

	<test id="Step1-LoadTestResourceCreate">
		<name value="Step1-LoadTestResourceCreate" />
		<description value="[OPTIONAL] Load (create) MedMij eAppointment test resources using the update (PUT) operation of the target FHIR server for use in eAppointment qualification testing." />

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Patient" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${patient1-id}" />
				<sourceId value="patient1-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Patient" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${patient2-id}" />
				<sourceId value="patient2-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Patient" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${patient3-id}" />
				<sourceId value="patient3-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Practitioner" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${practitioner1-id}" />
				<sourceId value="practitioner1-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Practitioner" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${practitioner2-id}" />
				<sourceId value="practitioner2-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Practitioner" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${practitioner3-id}" />
				<sourceId value="practitioner3-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Location" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${location1-id}" />
				<sourceId value="location1-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Location" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${location2-id}" />
				<sourceId value="location2-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Location" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${location3-id}" />
				<sourceId value="location3-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment1-id}" />
				<sourceId value="appointment1-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment2-id}" />
				<sourceId value="appointment2-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment3-id}" />
				<sourceId value="appointment3-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment4-id}" />
				<sourceId value="appointment4-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment5-id}" />
				<sourceId value="appointment5-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>

		<action>
			<operation>
				<type>
					<system value="http://hl7.org/fhir/testscript-operation-codes" />
					<code value="updateCreate" />
				</type>
				<resource value="Appointment" />
				<accept value="json" />
				<contentType value="json" />
				<params value="/${appointment6-id}" />
				<sourceId value="appointment6-fixture" />
			</operation>
		</action>
		<action>
			<assert>
				<description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)." />
				<operator value="in" />
				<responseCode value="200,201" />
			</assert>
		</action>
	</test>
</TestScript>