{
  "resourceType": "TestScript",
  "id": "D-Retrieve-Scenario1-6-DeviceUseStatement",
  "contact": [
    {
      "telecom": [
        {
          "system": "email",
          "value": "info@iknl.nl"
        }
      ],
      "name": "IKNL"
    }
  ],
  "origin": [
    {
      "extension": [
        {
          "url": "http://fhir.interoplab.eu/fhir/StructureDefinition/Interoplab-CL-ext-SUT",
          "valueBoolean": true
        }
      ],
      "profile": {
        "system": "http://terminology.hl7.org/CodeSystem/testscript-profile-origin-types",
        "code": "FHIR-Client"
      },
      "index": 1
    }
  ],
  "destination": [
    {
      "profile": {
        "system": "http://terminology.hl7.org/CodeSystem/testscript-profile-destination-types",
        "code": "FHIR-Server"
      },
      "index": 1
    }
  ],
  "test": [
    {
      "action": [
        {
          "operation": {
            "requestHeader": [
              {
                "field": "Authorization",
                "value": "Basic TmljdGl6OlBhc3N3b3Jk"
              }
            ],
            "type": {
              "code": "search",
              "system": "http://hl7.org/fhir/restful-interaction"
            },
            "resource": "DeviceUseStatement",
            "description": "Test client to retrieve ACP related DeviceUseStatement resources.",
            "encodeRequestUrl": true,
            "origin": 1,
            "destination": 1,
            "params": "?patient=Patient/D1-ACP-Patient&device.type:in=https://api.iknl.nl/docs/pzp/r4/ValueSet/ACP-MedicalDeviceProductType-ICD&_include=DeviceUseStatement:device"
          }
        },
        {
          "assert": {
            "description": "Make sure that the server of the test simulator gives a success response.",
            "direction": "response",
            "responseCode": "okay",
            "warningOnly": false
          }
        }
      ],
      "id": "RetrieveACPDeviceUseStatement",
      "name": "Retrieve ACP DeviceUseStatement",
      "description": "Retrieve DeviceUseStatement resources representing ACP device use statements and includes the associated Device resource where the device was used."
    }
  ],
  "status": "active",
  "version": "1.0.0-rc1",
  "date": "2025-12-09",
  "publisher": "IKNL",
  "copyright": "Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise.",
  "url": "https://api.iknl.nl/docs/pzp/r4/TestScript/D-Retrieve-Scenario1-6-DeviceUseStatement",
  "name": "D-Retrieve-Scenario1-6-DeviceUseStatement"
}
