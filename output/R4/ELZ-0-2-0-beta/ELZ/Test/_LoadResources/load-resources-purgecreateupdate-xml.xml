<TestScript xmlns="http://hl7.org/fhir">
   <id value="resources-purgecreateupdate-xml"/>
   <url value="http://nictiz.nl/fhir/TestScript/load-resources-purgecreateupdate-xml"/>
   <name value="Load Test Resources - Purge Create Update - XML"/>
   <status value="active"/>
   <publisher value="Nictiz"/>
   <contact>
      <name value="MedMij"/>
      <telecom>
         <system value="email"/>
         <value value="kwalificatie@nictiz.nl"/>
         <use value="work"/>
      </telecom>
   </contact>
   <description value="Load test resources using the update (PUT) operation of the target FHIR server for use in testing. All resource ids are pre-defined. The target XIS FHIR server is expected to support resource create via the update (PUT) operation for client assigned ids. "/>
   <copyright value="Â© Nictiz 2020"/>
   <fixture id="Composition-d3e1-composition-hg-VerwijzingHuisartsParamedicusMax">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/composition-hg-VerwijzingHuisartsParamedicusMaximaalbericht.xml"/>
      </resource>
   </fixture>
   <fixture id="Composition-d4e1-composition-hg-VerwijzingHuisartsParamedicusMin">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/composition-hg-VerwijzingHuisartsParamedicusMinimaalbericht.xml"/>
      </resource>
   </fixture>
   <fixture id="Organization-organization-04016056-0400">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/organization-04016056-0400.xml"/>
      </resource>
   </fixture>
   <fixture id="Organization-organization-04086949">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/organization-04086949.xml"/>
      </resource>
   </fixture>
   <fixture id="Patient-patient-van-XXX-Sanderink-de-Kok">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/patient-van-XXX-Sanderink-de-Kok.xml"/>
      </resource>
   </fixture>
   <fixture id="Patient-patient-XXX-Andrioli">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/patient-XXX-Andrioli.xml"/>
      </resource>
   </fixture>
   <fixture id="Practitioner-practitioner-000001111">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/practitioner-000001111.xml"/>
      </resource>
   </fixture>
   <fixture id="Practitioner-practitioner-04115923">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/practitioner-04115923.xml"/>
      </resource>
   </fixture>
   <fixture id="PractitionerRole-practitionerrole-000001111">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/practitionerrole-000001111.xml"/>
      </resource>
   </fixture>
   <fixture id="PractitionerRole-practitionerrole-04115923">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/practitionerrole-04115923.xml"/>
      </resource>
   </fixture>
   <fixture id="RelatedPerson-contactperson-de-Kok">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/contactperson-de-Kok.xml"/>
      </resource>
   </fixture>
   <fixture id="ServiceRequest-d14e1-servicerequest-hg-VerwijzingHuisartsParamed">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/servicerequest-hg-VerwijzingHuisartsParamedicusMaximaalbericht.xml"/>
      </resource>
   </fixture>
   <fixture id="ServiceRequest-d15e1-servicerequest-hg-VerwijzingHuisartsParamed">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/servicerequest-hg-VerwijzingHuisartsParamedicusMinimaalbericht.xml"/>
      </resource>
   </fixture>
   <fixture id="Task-task-hg-VerwijzingHuisartsParamedicusMaximaalbericht">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/task-hg-VerwijzingHuisartsParamedicusMaximaalbericht.xml"/>
      </resource>
   </fixture>
   <fixture id="Task-task-hg-VerwijzingHuisartsParamedicusMinimaalbericht">
      <autocreate value="false"/>
      <autodelete value="false"/>
      <resource>
         <reference value="../_reference/resources/task-hg-VerwijzingHuisartsParamedicusMinimaalbericht.xml"/>
      </resource>
   </fixture>
   <variable>
      <name value="Composition-d3e1-composition-hg-VerwijzingHuisartsParamedicusMax-id"/>
      <expression value="Composition.id"/>
      <sourceId value="Composition-d3e1-composition-hg-VerwijzingHuisartsParamedicusMax"/>
   </variable>
   <variable>
      <name value="Composition-d4e1-composition-hg-VerwijzingHuisartsParamedicusMin-id"/>
      <expression value="Composition.id"/>
      <sourceId value="Composition-d4e1-composition-hg-VerwijzingHuisartsParamedicusMin"/>
   </variable>
   <variable>
      <name value="Organization-organization-04016056-0400-id"/>
      <expression value="Organization.id"/>
      <sourceId value="Organization-organization-04016056-0400"/>
   </variable>
   <variable>
      <name value="Organization-organization-04086949-id"/>
      <expression value="Organization.id"/>
      <sourceId value="Organization-organization-04086949"/>
   </variable>
   <variable>
      <name value="Patient-patient-van-XXX-Sanderink-de-Kok-id"/>
      <expression value="Patient.id"/>
      <sourceId value="Patient-patient-van-XXX-Sanderink-de-Kok"/>
   </variable>
   <variable>
      <name value="Patient-patient-XXX-Andrioli-id"/>
      <expression value="Patient.id"/>
      <sourceId value="Patient-patient-XXX-Andrioli"/>
   </variable>
   <variable>
      <name value="Practitioner-practitioner-000001111-id"/>
      <expression value="Practitioner.id"/>
      <sourceId value="Practitioner-practitioner-000001111"/>
   </variable>
   <variable>
      <name value="Practitioner-practitioner-04115923-id"/>
      <expression value="Practitioner.id"/>
      <sourceId value="Practitioner-practitioner-04115923"/>
   </variable>
   <variable>
      <name value="PractitionerRole-practitionerrole-000001111-id"/>
      <expression value="PractitionerRole.id"/>
      <sourceId value="PractitionerRole-practitionerrole-000001111"/>
   </variable>
   <variable>
      <name value="PractitionerRole-practitionerrole-04115923-id"/>
      <expression value="PractitionerRole.id"/>
      <sourceId value="PractitionerRole-practitionerrole-04115923"/>
   </variable>
   <variable>
      <name value="RelatedPerson-contactperson-de-Kok-id"/>
      <expression value="RelatedPerson.id"/>
      <sourceId value="RelatedPerson-contactperson-de-Kok"/>
   </variable>
   <variable>
      <name value="ServiceRequest-d14e1-servicerequest-hg-VerwijzingHuisartsParamed-id"/>
      <expression value="ServiceRequest.id"/>
      <sourceId value="ServiceRequest-d14e1-servicerequest-hg-VerwijzingHuisartsParamed"/>
   </variable>
   <variable>
      <name value="ServiceRequest-d15e1-servicerequest-hg-VerwijzingHuisartsParamed-id"/>
      <expression value="ServiceRequest.id"/>
      <sourceId value="ServiceRequest-d15e1-servicerequest-hg-VerwijzingHuisartsParamed"/>
   </variable>
   <variable>
      <name value="Task-task-hg-VerwijzingHuisartsParamedicusMaximaalbericht-id"/>
      <expression value="Task.id"/>
      <sourceId value="Task-task-hg-VerwijzingHuisartsParamedicusMaximaalbericht"/>
   </variable>
   <variable>
      <name value="Task-task-hg-VerwijzingHuisartsParamedicusMinimaalbericht-id"/>
      <expression value="Task.id"/>
      <sourceId value="Task-task-hg-VerwijzingHuisartsParamedicusMinimaalbericht"/>
   </variable>
   <variable>
      <name value="T"/>
      <defaultValue value="${CURRENTDATE}"/>
      <description value="Date that data and queries are expected to be relative to."/>
   </variable>
   <setup>
      <action>
         <operation>
            <type>
               <system value="http://touchstone.com/fhir/extended-operation-codes"/>
               <code value="purge"/>
            </type>
            <resource value="Patient"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="patient-van-XXX-Sanderink-de-Kok/$purge"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 204(No Content)"/>
            <operator value="in"/>
            <responseCode value="200,204"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://touchstone.com/fhir/extended-operation-codes"/>
               <code value="purge"/>
            </type>
            <resource value="Patient"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="patient-XXX-Andrioli/$purge"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 24a9d82d-e4ca-4680-8885-4ff3f00a7f7c"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 204(No Content)"/>
            <operator value="in"/>
            <responseCode value="200,204"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </setup>
   <test id="Step1-LoadTestResourceCreate">
      <name value="Step1-LoadTestResourceCreate"/>
      <description value="Load test resources using the update (PUT) operation of the target FHIR server for use in testing. All resource ids are pre-defined. The target XIS FHIR server is expected to support resource create via the update (PUT) operation for client assigned ids. "/>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Patient"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Patient-patient-van-XXX-Sanderink-de-Kok-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Patient-patient-van-XXX-Sanderink-de-Kok"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Patient"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Patient-patient-XXX-Andrioli-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 24a9d82d-e4ca-4680-8885-4ff3f00a7f7c"/>
            </requestHeader>
            <sourceId value="Patient-patient-XXX-Andrioli"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Composition"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Composition-d3e1-composition-hg-VerwijzingHuisartsParamedicusMax-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Composition-d3e1-composition-hg-VerwijzingHuisartsParamedicusMax"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Composition"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Composition-d4e1-composition-hg-VerwijzingHuisartsParamedicusMin-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Composition-d4e1-composition-hg-VerwijzingHuisartsParamedicusMin"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Organization"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Organization-organization-04016056-0400-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Organization-organization-04016056-0400"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Organization"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Organization-organization-04086949-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Organization-organization-04086949"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Practitioner"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Practitioner-practitioner-000001111-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Practitioner-practitioner-000001111"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Practitioner"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Practitioner-practitioner-04115923-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Practitioner-practitioner-04115923"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="PractitionerRole"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${PractitionerRole-practitionerrole-000001111-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="PractitionerRole-practitionerrole-000001111"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="PractitionerRole"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${PractitionerRole-practitionerrole-04115923-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="PractitionerRole-practitionerrole-04115923"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="RelatedPerson"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${RelatedPerson-contactperson-de-Kok-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="RelatedPerson-contactperson-de-Kok"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="ServiceRequest"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${ServiceRequest-d14e1-servicerequest-hg-VerwijzingHuisartsParamed-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="ServiceRequest-d14e1-servicerequest-hg-VerwijzingHuisartsParamed"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="ServiceRequest"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${ServiceRequest-d15e1-servicerequest-hg-VerwijzingHuisartsParamed-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="ServiceRequest-d15e1-servicerequest-hg-VerwijzingHuisartsParamed"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Task"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Task-task-hg-VerwijzingHuisartsParamedicusMaximaalbericht-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Task-task-hg-VerwijzingHuisartsParamedicusMaximaalbericht"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="updateCreate"/>
            </type>
            <resource value="Task"/>
            <accept value="xml"/>
            <contentType value="xml"/>
            <encodeRequestUrl value="true"/>
            <params value="/${Task-task-hg-VerwijzingHuisartsParamedicusMinimaalbericht-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="Bearer 03e9660e-735a-44e5-ba80-402dd471f47d"/>
            </requestHeader>
            <sourceId value="Task-task-hg-VerwijzingHuisartsParamedicusMinimaalbericht"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned HTTP status is 200(OK) or 201(Created)."/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
</TestScript>
