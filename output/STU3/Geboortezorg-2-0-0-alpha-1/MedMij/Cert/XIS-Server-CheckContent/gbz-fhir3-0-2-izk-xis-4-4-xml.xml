<?xml version="1.0" encoding="UTF-8"?>
<TestScript xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
   <id value="gbz-fhir3-0-2-ikz-xis-4-4-CheckContent-xml"/>
   <meta>
      <profile value="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript"/>
   </meta>
   <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-rule">
      <extension url="ruleId">
         <valueId value="assert-response-queryParamsInSelfLink"/>
      </extension>
      <extension url="path">
         <valueString value="../_reference/rules/assert_response_queryParamsInSelfLink.groovy"/>
      </extension>
   </extension>
   <url value="http://nictiz.nl/fhir/TestScript/gbz-fhir3-0-2-ikz-xis-4-4-CheckContent-xml"/>
   <version value="stu3-3.0-patchlevel 2025-02"/>
   <name value="Nictiz Geboortezorg - Server - Scenario 4.4 - Serve Integrale Zwangerschapskaart resources of Willemijn W Yzendoorn van den Berg - target CheckContent - XML Format"/>
   <status value="active"/>
   <publisher value="Nictiz"/>
   <contact>
      <name value="Nictiz"/>
      <telecom>
         <system value="email"/>
         <value value="kwalificatie@nictiz.nl"/>
         <use value="work"/>
      </telecom>
   </contact>
   <description value="Scenario 4.4: Serve Integrale Zwangerschapskaart resources of Willemijn W Yzendoorn van den Berg"/>
   <origin>
      <extension url="http://fhir.interoplab.eu/fhir/StructureDefinition/Interoplab-CL-ext-SUT">
         <valueBoolean value="false"/>
      </extension>
      <index value="1"/>
      <profile>
         <system value="http://terminology.hl7.org/CodeSystem/testscript-profile-origin-types"/>
         <code value="FHIR-Client"/>
      </profile>
   </origin>
   <destination>
      <extension url="http://fhir.interoplab.eu/fhir/StructureDefinition/Interoplab-CL-ext-SUT">
         <valueBoolean value="true"/>
      </extension>
      <index value="1"/>
      <profile>
         <system value="http://terminology.hl7.org/CodeSystem/testscript-profile-destination-types"/>
         <code value="FHIR-Server"/>
      </profile>
   </destination>
   <profile id="Bundle-profile"
            value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
   <variable>
      <name value="patient-token-id"/>
      <defaultValue value="Bearer 01e5514d-ae75-4d14-b43b-86511e866fce"/>
      <description value="OAuth Token for current patient"/>
   </variable>
   <variable>
      <name value="episode-id"/>
      <description value="This variable needs to be filled with the following params. The name (the variable name), sourceId (id of the resource) and as resource EpisodeOfCare should be filled in"/>
      <expression value="Bundle.entry.where(resource.is(EpisodeOfCare)).resource.where(type.coding.code='364320009').id"/>
      <sourceId value="fixture-5-ServeMaternalRecord"/>
   </variable>
   <variable>
      <name value="T"/>
      <defaultValue value="${CURRENTDATE}"/>
   </variable>
   <variable>
      <name value="X-Correlation-ID"/>
      <defaultValue value="${UUID}"/>
      <description value="X-Correlation-ID, by default a UUID following the MedMij Afsprakenstelsel. Does not have to be edited, see https://nictiz.atlassian.net/browse/MM-5132 for more information"/>
   </variable>
   <variable>
      <name value="WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id"/>
      <description value="Resource.id for Patient 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).id'-->
      <expression value="Bundle.entry.resource.where($this is Patient).id"/>
      <sourceId value="fixture-1-ServeWoman"/>
   </variable>
   <variable>
      <name value="MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id"/>
      <description value="Resource.id for DeviceUseStatement 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).id'-->
      <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).id"/>
      <sourceId value="fixture-4-ServeDeviceUseStatement"/>
   </variable>
   <variable>
      <name value="14d1a1ff-6b66-11ec-0000-020000000000-id"/>
      <description value="Resource.id for EpisodeOfCare 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).id'-->
      <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).id"/>
      <sourceId value="fixture-5-ServeMaternalRecord"/>
   </variable>
   <variable>
      <name value="organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id"/>
      <description value="Resource.id for Organization 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).id'-->
      <expression value="Bundle.entry.resource.where($this is Organization).id"/>
      <sourceId value="fixture-5-ServeMaternalRecord"/>
   </variable>
   <variable>
      <name value="practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id"/>
      <description value="Resource.id for Practitioner 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).id'-->
      <expression value="Bundle.entry.resource.where($this is Practitioner).id"/>
      <sourceId value="fixture-5-ServeMaternalRecord"/>
   </variable>
   <variable>
      <name value="8e9592ff-6aab-11ec-2334-020000000000-id"/>
      <description value="Resource.id for Condition 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='118185001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='118185001'))).id"/>
      <sourceId value="fixture-6-ServeConditions"/>
   </variable>
   <variable>
      <name value="f66cf54e-6b05-11ec-2118-020000000000-id"/>
      <description value="Resource.id for Condition 2"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='22033007'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='22033007'))).id"/>
      <sourceId value="fixture-6-ServeConditions"/>
   </variable>
   <variable>
      <name value="10a0e47f-6b01-11ec-2150-020000000000-id"/>
      <description value="Resource.id for Condition 3"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='52767006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='52767006'))).id"/>
      <sourceId value="fixture-6-ServeConditions"/>
   </variable>
   <variable>
      <name value="7b9a287f-6ae0-11ec-2149-020000000000-id"/>
      <description value="Resource.id for Condition 4"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='58150001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='58150001'))).id"/>
      <sourceId value="fixture-6-ServeConditions"/>
   </variable>
   <variable>
      <name value="4ba44b1f-6aee-11ec-1275-020000000000-id"/>
      <description value="Resource.id for Encounter 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='FLD'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='FLD'))).id"/>
      <sourceId value="fixture-7-ServeEncounters"/>
   </variable>
   <variable>
      <name value="430238a3-6af7-11ec-1275-020000000000-id"/>
      <description value="Resource.id for Encounter 2"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='HH'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='HH'))).id"/>
      <sourceId value="fixture-7-ServeEncounters"/>
   </variable>
   <variable>
      <name value="a0cecf3f-6ad4-11ec-1071-020000000000-id"/>
      <description value="Resource.id for Encounter 3"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(type.where(coding.where(code='HH'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Encounter).where(type.where(coding.where(code='HH'))).id"/>
      <sourceId value="fixture-7-ServeEncounters"/>
   </variable>
   <variable>
      <name value="c3318aaf-6b5f-11ec-2334-020000000000-id"/>
      <description value="Resource.id for Observation 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11977-6'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11977-6'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="d714b6bf-6b22-11ec-2334-020000000000-id"/>
      <description value="Resource.id for Observation 2"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11996-6'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11996-6'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="9b22e4ee-6b40-11ec-2334-020000000000-id"/>
      <description value="Resource.id for Observation 3"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='161714006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='161714006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="15fc3c00-6b42-11ec-2335-020000000000-id"/>
      <description value="Resource.id for Observation 4"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8665-2'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8665-2'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="281dc7ef-6b5a-11ec-2436-020000000000-id"/>
      <description value="Resource.id for Observation 5"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='39343008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='39343008'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="014a50ff-6b34-11ec-1027-020000000000-id"/>
      <description value="Resource.id for Observation 6"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='390281000146101'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='390281000146101'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="06dbcb2d-6ade-11ec-2225-020000000000-id"/>
      <description value="Resource.id for Observation 7"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='142961000146102'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='142961000146102'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="7d2400cf-6ab4-11ec-2333-020000000000-id"/>
      <description value="Resource.id for Observation 8"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='159821000146107'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='159821000146107'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="b4808c2f-6b75-11ec-2227-020000000000-id"/>
      <description value="Resource.id for Observation 9"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='169740003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='169740003'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="272aac80-6afe-11ec-2998-020000000000-id"/>
      <description value="Resource.id for Observation 10"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='129879003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='129879003'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="7792504f-6aea-11ec-2275-020000000000-id"/>
      <description value="Resource.id for Observation 11"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8893-0'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8893-0'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="e13f72d4-6ac4-11ec-1077-020000000000-id"/>
      <description value="Resource.id for Observation 12"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249278006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249278006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="fd60b5ce-6af2-11ec-2310-020000000000-id"/>
      <description value="Resource.id for Observation 13"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="3148440f-6b7b-11ec-2797-020000000000-id"/>
      <description value="Resource.id for Observation 14"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="f403f58f-6ac6-11ec-2285-020000000000-id"/>
      <description value="Resource.id for Observation 15"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='116339002'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='116339002'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="64f732d4-6b7d-11ec-1067-020000000000-id"/>
      <description value="Resource.id for Observation 16"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249508009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249508009'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="197537c6-6b7a-11ec-2432-020000000000-id"/>
      <description value="Resource.id for Observation 17"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='150811000119101'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='150811000119101'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="884951cf-6af1-11ec-2795-020000000000-id"/>
      <description value="Resource.id for Observation 18"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364297003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364297003'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="517a25ea-6ae5-11ec-2106-020000000000-id"/>
      <description value="Resource.id for Observation 19"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='85354-9'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='85354-9'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="35de3e6f-6aa0-11ec-2279-020000000000-id"/>
      <description value="Resource.id for Observation 20"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8310-5'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8310-5'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="1e4c9ad8-6ac2-11ec-2334-020000000000-id"/>
      <description value="Resource.id for Observation 21"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="925236bf-6ab4-11ec-2702-020000000000-id"/>
      <description value="Resource.id for Observation 22"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="1d638062-6b49-11ec-1069-020000000000-id"/>
      <description value="Resource.id for Observation 23"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id"/>
      <description value="Resource.id for Observation 24"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='28278009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='28278009'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id"/>
      <description value="Resource.id for Observation 25"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='111989001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='111989001'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="7146c3ef-6a97-11ec-2176-020000000000-id"/>
      <description value="Resource.id for Observation 26"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364277008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364277008'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id"/>
      <description value="Resource.id for Observation 27"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='93846-4'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='93846-4'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="1cd7cabf-6b79-11ec-2172-020000000000-id"/>
      <description value="Resource.id for Observation 28"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='365508006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='365508006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="162f7dbf-6b39-11ec-2891-020000000000-id"/>
      <description value="Resource.id for Observation 29"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='370379002'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='370379002'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="787efb9f-6b29-11ec-2351-020000000000-id"/>
      <description value="Resource.id for Observation 30"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11979-2'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11979-2'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="e20e2e86-6aee-11ec-2362-020000000000-id"/>
      <description value="Resource.id for Observation 31"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363812007'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363812007'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="16f64220-6aef-11ec-2993-020000000000-id"/>
      <description value="Resource.id for Observation 32"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249612005'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249612005'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="896d47ef-6abb-11ec-1075-020000000000-id"/>
      <description value="Resource.id for Observation 33"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='698350008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='698350008'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="5227d9b5-6b37-11ec-2175-020000000000-id"/>
      <description value="Resource.id for Observation 34"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='276506001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='276506001'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="05c0b35f-6b33-11ec-2141-020000000000-id"/>
      <description value="Resource.id for Observation 35"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8339-4'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8339-4'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="17378d46-6b35-11ec-2142-020000000000-id"/>
      <description value="Resource.id for Observation 36"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='89269-5'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='89269-5'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="622ece8f-6b63-11ec-2140-020000000000-id"/>
      <description value="Resource.id for Observation 37"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9272-6'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9272-6'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="513e600f-6ab8-11ec-2966-020000000000-id"/>
      <description value="Resource.id for Observation 38"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9274-2'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9274-2'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="38e392be-6b3a-11ec-2967-020000000000-id"/>
      <description value="Resource.id for Observation 39"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9271-8'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9271-8'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="697342df-6b53-11ec-2296-020000000000-id"/>
      <description value="Resource.id for Observation 40"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364528001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364528001'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="cdcf7a8f-6a9c-11ec-2296-020000000000-id"/>
      <description value="Resource.id for Observation 41"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364403006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364403006'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="b1e5da8f-6b69-11ec-2297-020000000000-id"/>
      <description value="Resource.id for Observation 42"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364434005'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364434005'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="1b201a8f-6b77-11ec-2307-020000000000-id"/>
      <description value="Resource.id for Observation 43"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364446009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364446009'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="8b805a8f-6ae9-11ec-2307-020000000000-id"/>
      <description value="Resource.id for Observation 44"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364415005'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364415005'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="0cfcda8f-6b34-11ec-2308-020000000000-id"/>
      <description value="Resource.id for Observation 45"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363799009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363799009'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="2f5e1a8f-6b6b-11ec-2304-020000000000-id"/>
      <description value="Resource.id for Observation 46"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364204002'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364204002'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="caf08a8f-6b6d-11ec-2308-020000000000-id"/>
      <description value="Resource.id for Observation 47"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363820009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363820009'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="82da0a04-6a99-11ec-2793-020000000000-id"/>
      <description value="Resource.id for Observation 48"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289145007'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289145007'))).id"/>
      <sourceId value="fixture-8a-ServeObservations"/>
   </variable>
   <variable>
      <name value="b1e145bf-6ab0-11ec-2213-020000000000-id"/>
      <description value="Resource.id for Observation 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364618000'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364618000'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="76f90ee2-6b73-11ec-2404-020000000000-id"/>
      <description value="Resource.id for Observation 2"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364265003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364265003'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="c050bc96-6aee-11ec-2406-020000000000-id"/>
      <description value="Resource.id for Observation 3"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249062004'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249062004'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="27e02a7f-6add-11ec-2407-020000000000-id"/>
      <description value="Resource.id for Observation 4"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364611006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364611006'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="bfc4e51e-6ac5-11ec-2410-020000000000-id"/>
      <description value="Resource.id for Observation 5"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289251005'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289251005'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="dd72bb4f-6b15-11ec-2412-020000000000-id"/>
      <description value="Resource.id for Observation 6"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168089007'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168089007'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="3195d1b0-6aed-11ec-2414-020000000000-id"/>
      <description value="Resource.id for Observation 7"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364336006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364336006'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="7531ae30-6b6a-11ec-2416-020000000000-id"/>
      <description value="Resource.id for Observation 8"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='271692001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='271692001'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="b3cd809c-6b42-11ec-2419-020000000000-id"/>
      <description value="Resource.id for Observation 9"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='366344009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='366344009'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="6784b58f-6ae0-11ec-2421-020000000000-id"/>
      <description value="Resource.id for Observation 10"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='236994008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='236994008'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="c08597cf-6b4f-11ec-2423-020000000000-id"/>
      <description value="Resource.id for Observation 11"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='136311000146100'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='136311000146100'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="980bcd0f-6aeb-11ec-2424-020000000000-id"/>
      <description value="Resource.id for Observation 12"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364343000'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364343000'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="24bf3ccf-6b1c-11ec-2425-020000000000-id"/>
      <description value="Resource.id for Observation 13"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168123008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168123008'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="2afc5926-6b10-11ec-2426-020000000000-id"/>
      <description value="Resource.id for Observation 14"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='726566009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='726566009'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="382a96cf-6b4d-11ec-2427-020000000000-id"/>
      <description value="Resource.id for Observation 15"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364351002'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364351002'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="468beaf4-6b5c-11ec-2429-020000000000-id"/>
      <description value="Resource.id for Observation 16"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249191003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249191003'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="a46197ee-6ae9-11ec-2396-020000000000-id"/>
      <description value="Resource.id for Observation 17"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364332008'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364332008'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="d7b0ca60-6b14-11ec-2408-020000000000-id"/>
      <description value="Resource.id for Observation 18"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160621000146107'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160621000146107'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="5ca1857f-6ac5-11ec-2409-020000000000-id"/>
      <description value="Resource.id for Observation 19"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160611000146102'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160611000146102'))).id"/>
      <sourceId value="fixture-8b-ServeObservations"/>
   </variable>
   <variable>
      <name value="056324ee-6acd-11ec-2119-020000000000-id"/>
      <description value="Resource.id for Procedure 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='241491007'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='241491007'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="b6353a4f-6b23-11ec-2123-020000000000-id"/>
      <description value="Resource.id for Procedure 2"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='236973005'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='236973005'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="301e89cf-6aba-11ec-2154-020000000000-id"/>
      <description value="Resource.id for Procedure 3"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='51597003'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='51597003'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="e550de2e-6aba-11ec-2160-020000000000-id"/>
      <description value="Resource.id for Procedure 4"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='80801000146105'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='80801000146105'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="a02f847a-6b10-11ec-2241-020000000000-id"/>
      <description value="Resource.id for Procedure 5"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='713076009'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='713076009'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="49646dfa-6b05-11ec-2108-020000000000-id"/>
      <description value="Resource.id for Procedure 6"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='28233006'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='28233006'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="51e522ef-6b5e-11ec-2123-020000000000-id"/>
      <description value="Resource.id for Procedure 7"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='3950001'))).id'-->
      <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='3950001'))).id"/>
      <sourceId value="fixture-9-ServeProcedures"/>
   </variable>
   <variable>
      <name value="relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id"/>
      <description value="Resource.id for RelatedPerson 1"/>
      <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).id'-->
      <expression value="Bundle.entry.resource.where($this is RelatedPerson).id"/>
      <sourceId value="fixture-12-RelatedPerson"/>
   </variable>
   <test id="1-ServeWoman">
      <name value="1-ServeWoman"/>
      <description value="Query Patient resource for HCIM Patient"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Patient"/>
            <description value="Test XIS server to serve Patient resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-1-ServeWoman"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 Patient resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Patient)).count() &gt;= 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="1-ServeWoman - Check Patient"/>
      <description value="Check if the previous operation results in a FHIR Patient that contains the values that are expected following Nictiz' materials (fixture .id: WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Patient"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Patient).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Patient resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-patient' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-Woman'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').meta.where(profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-patient') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Woman')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').meta.where(profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-patient') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Woman')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL4' and .text with a value, and .family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value, and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR', and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL4' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL4' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-1"/>
            <description value="Contains .name.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL4'. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL4').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL4').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-2"/>
            <description value="Contains .name.text with a value. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(text.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(text.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3"/>
            <description value="Contains .name.family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-1"/>
            <description value="Contains .name.family with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-2"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-3"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-4"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-5"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-5-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-3-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-5-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-3-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .gender 'female' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AdministrativeGender' and .code 'F' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender.where($this = 'female' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender.where($this = 'female' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-1"/>
            <description value="Contains .gender 'female'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender = 'female''-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender = 'female'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-2"/>
            <description value="Contains .gender.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AdministrativeGender' and .code 'F' and .display. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').gender.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .birthDate"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').birthDate.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').birthDate.exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .address with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'PHYS' and .display and .use 'home', and .type 'physical', and .line with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value, and .city with a value, and .postalCode with a value, and .country with a value and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'PHYS' and display) and use = 'home' and type = 'physical' and line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue()) and city.hasValue() and postalCode.hasValue() and country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display))).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'PHYS' and display) and use = 'home' and type = 'physical' and line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue()) and city.hasValue() and postalCode.hasValue() and country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display))).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-1"/>
            <description value="Contains .address.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'PHYS' and .display. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'PHYS' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'PHYS' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-2"/>
            <description value="Contains .address.use 'home'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(use = 'home').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(use = 'home').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-3"/>
            <description value="Contains .address.type 'physical'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(type = 'physical').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(type = 'physical').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-4"/>
            <description value="Contains .address.line with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-4-1"/>
            <description value="Contains .address.line with a value. This assert checks only one child. Assert 1-6-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-4-2"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value. This assert checks only one child. Assert 1-6-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue())).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue())).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-4-3"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value. This assert checks only one child. Assert 1-6-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue())).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue())).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-5"/>
            <description value="Contains .address.city with a value. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(city.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(city.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-6"/>
            <description value="Contains .address.postalCode with a value. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(postalCode.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(postalCode.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-7"/>
            <description value="Contains .address.country with a value and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display)).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display)).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-7-1"/>
            <description value="Contains .address.country with a value. This assert checks only one child. Assert 1-6-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-7-2"/>
            <description value="Contains .address.country.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks only one child. Assert 1-6-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Patient).where(id = '${WILLEMIJN-W-XXX-YZENDOORN-VAN-DEN-XXX-BERG-id}').address.where(country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test id="2-ServePayer">
      <name value="2-ServePayer"/>
      <description value="Query Coverage resource for HCIM Payer"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Coverage"/>
            <description value="Test XIS server to serve Coverage resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 0 Coverage resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Coverage)).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="3-ServeFamilyMemberHistory">
      <name value="3-ServeFamilyMemberHistory"/>
      <description value="Query FamilyMemberHistory resource for FamilyMemberHistory"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="FamilyMemberHistory"/>
            <description value="Test XIS server to serve FamilyMemberHistory resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 0 FamilyMemberHistory resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(FamilyMemberHistory)).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="4-ServeDeviceUseStatement">
      <name value="4-ServeDeviceUseStatement"/>
      <description value="Query DeviceUseStatement resource for HCIM BladderFunction-UrineCatheter"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="DeviceUseStatement"/>
            <description value="Test XIS server to serve DeviceUseStatement resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?_include=DeviceUseStatement:device"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-4-ServeDeviceUseStatement"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 DeviceUseStatement resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(DeviceUseStatement)).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="4-ServeDeviceUseStatement - Check DeviceUseStatement"/>
      <description value="Check if the previous operation results in a FHIR DeviceUseStatement that contains the values that are expected following Nictiz' materials (fixture .id: MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 DeviceUseStatement"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="DeviceUseStatement resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice').exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/deviceUseStatement-reasonReferenceSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/deviceUseStatement-reasonReferenceSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/deviceUseStatement-reasonReferenceSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .status 'active'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').status = 'active''-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').status = 'active'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .whenUsed with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').whenUsed.where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').whenUsed.where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .device with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').device.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is DeviceUseStatement).where(id = '${MedicalDevice-mm-gbz-ae3e1936-6b36-11ec-1037-020000000000-id}').device.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="5-ServeMaternalRecord">
      <name value="5-ServeMaternalRecord"/>
      <description value="Test Server query operation for MaternalRecord (EpisodeOfCare) including managing organization (Organization) and care manager (Practitioner)"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="EpisodeOfCare"/>
            <description value="Test XIS server to serve EpisodeOfCare resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?type=http://snomed.info/sct|364320009&amp;_include=EpisodeOfCare:organization&amp;_include=EpisodeOfCare:care-manager"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-5-ServeMaternalRecord"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 EpisodeOfCare resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(EpisodeOfCare)).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 Organization resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Organization)).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 Practitioner resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Practitioner)).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- TODO: 2x dezelfde Organization gevonden?
         mm-gbz-nl-core-organization-organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806
         mm-gbz-nl-core-organization-organization-mm-gbz-2-16-528-1-1007-3-3-06020806 -->
   </test>
   <test>
      <name value="5-ServeMaternalRecord - Check EpisodeOfCare"/>
      <description value="Check if the previous operation results in a FHIR EpisodeOfCare that contains the values that are expected following Nictiz' materials (fixture .id: 14d1a1ff-6b66-11ec-0000-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 EpisodeOfCare"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="EpisodeOfCare resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-episodeofcare' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalRecord'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').meta.where(profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-episodeofcare') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalRecord')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').meta.where(profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-episodeofcare') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalRecord')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with . and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').identifier.where({$_EXPR}).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').identifier.where({$_EXPR}).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .status 'finished'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').status = 'finished''-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').status = 'finished'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .type with .coding with .system 'http://snomed.info/sct' and .code '364320009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '364320009' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '364320009' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .diagnosis with .condition with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').diagnosis.where(condition.where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').diagnosis.where(condition.where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .patient with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').patient.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').patient.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .managingOrganization with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').managingOrganization.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').managingOrganization.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .period with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').period.where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').period.where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9"/>
            <description value="Contains .careManager with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-1"/>
            <description value="Contains .careManager.extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-1"/>
            <description value="Contains .careManager with either .reference or .identifier and .display. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is EpisodeOfCare).where(id = '${14d1a1ff-6b66-11ec-0000-020000000000-id}').careManager.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="5-ServeMaternalRecord - Check Organization"/>
      <description value="Check if the previous operation results in a FHIR Organization that contains the values that are expected following Nictiz' materials (fixture .id: organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Organization"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Organization).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Organization resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-organization'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-organization').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-organization').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .type with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.6.7' and .version and .code '0300' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').type.where(coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.6.7' and version and code = '0300' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').type.where(coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.6.7' and version and code = '0300' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .type with .coding with .system 'http://nictiz.nl/fhir/NamingSystem/organization-type' and .code 'V5' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').type.where(coding.where(system = 'http://nictiz.nl/fhir/NamingSystem/organization-type' and code = 'V5' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').type.where(coding.where(system = 'http://nictiz.nl/fhir/NamingSystem/organization-type' and code = 'V5' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .name with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').name.hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').name.hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and .code 'LL' and .display and .system 'phone', and .value with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display) and system = 'phone' and value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display) and system = 'phone' and value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-1"/>
            <description value="Contains .telecom.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and .code 'LL' and .display. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-2"/>
            <description value="Contains .telecom.system 'phone'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'phone').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'phone').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6-3"/>
            <description value="Contains .telecom.value with a value. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .telecom with .system 'email', and .value with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'email' and value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'email' and value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7-1"/>
            <description value="Contains .telecom.system 'email'. This assert checks only one child. Assert 1-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'email').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(system = 'email').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7-2"/>
            <description value="Contains .telecom.value with a value. This assert checks only one child. Assert 1-7 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').telecom.where(value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .address with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'WP' and .display and .use 'work', and .line with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value, and .city with a value, and .postalCode with a value, and .country with a value and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'WP' and display) and use = 'work' and line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue()) and city.hasValue() and postalCode.hasValue() and country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display))).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'WP' and display) and use = 'work' and line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue()) and city.hasValue() and postalCode.hasValue() and country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display))).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-1"/>
            <description value="Contains .address.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'WP' and .display. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'WP' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'WP' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-2"/>
            <description value="Contains .address.use 'work'. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(use = 'work').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(use = 'work').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3"/>
            <description value="Contains .address.line with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-1"/>
            <description value="Contains .address.line with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-2"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.ofType(string).hasValue())).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').value.where($this is string).hasValue())).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-3"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.ofType(string).hasValue())).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(line.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').value.where($this is string).hasValue())).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-4"/>
            <description value="Contains .address.city with a value. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(city.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(city.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-5"/>
            <description value="Contains .address.postalCode with a value. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(postalCode.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(postalCode.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6"/>
            <description value="Contains .address.country with a value and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display)).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.where($this.hasValue() and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display)).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6-1"/>
            <description value="Contains .address.country with a value. This assert checks only one child. Assert 1-8-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6-2"/>
            <description value="Contains .address.country.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NL' and .display. This assert checks only one child. Assert 1-8-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Organization).where(id = '${organization-mm-gbz-2-16-840-1-113883-2-4-6-1-06020806-id}').address.where(country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NL' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="5-ServeMaternalRecord - Check Practitioner"/>
      <description value="Check if the previous operation results in a FHIR Practitioner that contains the values that are expected following Nictiz' materials (fixture .id: practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Practitioner"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Practitioner resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1' and .text with a value, and .family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value, and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL1' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL1' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-1"/>
            <description value="Contains .name.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1'. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL1').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL1').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-2"/>
            <description value="Contains .name.text with a value. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(text.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(text.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3"/>
            <description value="Contains .name.family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-1"/>
            <description value="Contains .name.family with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-3-2"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value. This assert checks only one child. Assert 1-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3-4-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and .code 'LL' and .display and .system 'phone', and .value with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display) and system = 'phone' and value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display) and system = 'phone' and value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-1"/>
            <description value="Contains .telecom.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and .code 'LL' and .display. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.22.1' and code = 'LL' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-2"/>
            <description value="Contains .telecom.system 'phone'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(system = 'phone').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(system = 'phone').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-3"/>
            <description value="Contains .telecom.value with a value. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Practitioner).where(id = '${practitioner-mm-gbz-2-16-528-1-1007-3-1-987654322-id}').telecom.where(value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test id="6-ServeConditions">
      <name value="6-ServeConditions"/>
      <description value="Test Server query operation for Conditions (including Pregnancy)"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Condition"/>
            <description value="Test XIS server to serve Condition resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?context=EpisodeOfCare/${episode-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-6-ServeConditions"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 5 Condition resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Condition)).count() = 5"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Zwangerschap -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Condition resource(s) with code http://snomed.info/sct | 118185001. (Zwangerschap)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Condition)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '118185001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Groeiachterstand -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Condition resource(s) with code http://snomed.info/sct | 22033007. (Groeiachterstand)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Condition)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '22033007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Foetale nood -->
      <!-- TODO: deze is gekoppeld aan het contact -->
      <!--      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(Foetale nood)"/>
         <nts:with-parameter name="resource" value="Condition"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="288274003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <nts:contentAsserts href="mm-gbz-bc-DisorderOfLaborAndDelivery-ba664a95-6ab8-11ec-2159-020000000000.xml" nts:in-targets="CheckContent">
         <nts:discriminator>code.where(coding.where(code='288274003'))</nts:discriminator>
      </nts:contentAsserts>-->
      <!-- Neonatale hypoglykemie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Condition resource(s) with code http://snomed.info/sct | 52767006. (Neonatale hypoglykemie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Condition)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '52767006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Fractuur van clavicula -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Condition resource(s) with code http://snomed.info/sct | 58150001. (Fractuur van clavicula)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Condition)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '58150001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="6-ServeConditions - Check Condition 1"/>
      <description value="Check if the previous operation results in a FHIR Condition that contains the values that are expected following Nictiz' materials (fixture .id: 8e9592ff-6aab-11ec-2334-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Condition"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='118185001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='118185001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Condition resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='118185001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='118185001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .clinicalStatus 'inactive'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').clinicalStatus = 'inactive''-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').clinicalStatus = 'inactive'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '118185001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '118185001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '118185001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${8e9592ff-6aab-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="6-ServeConditions - Check Condition 2"/>
      <description value="Check if the previous operation results in a FHIR Condition that contains the values that are expected following Nictiz' materials (fixture .id: f66cf54e-6b05-11ec-2118-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Condition"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='22033007'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='22033007'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Condition resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='22033007'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='22033007'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfPregnancy'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfPregnancy')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfPregnancy')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-2"/>
            <description value="Contains .extension with url 'http://hl7.org/fhir/StructureDefinition/condition-partOf' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').extension('http://hl7.org/fhir/StructureDefinition/condition-partOf').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').extension('http://hl7.org/fhir/StructureDefinition/condition-partOf').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4"/>
            <description value="Contains .clinicalStatus 'active'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').clinicalStatus = 'active''-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').clinicalStatus = 'active'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '173300003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '173300003' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '173300003' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${f66cf54e-6b05-11ec-2118-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="6-ServeConditions - Check Condition 3"/>
      <description value="Check if the previous operation results in a FHIR Condition that contains the values that are expected following Nictiz' materials (fixture .id: 10a0e47f-6b01-11ec-2150-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Condition"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='52767006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='52767006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Condition resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='52767006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='52767006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4"/>
            <description value="Contains .clinicalStatus 'active'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').clinicalStatus = 'active''-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').clinicalStatus = 'active'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '414025005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '414025005' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '414025005' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-9"/>
            <description value="Contains .onsetDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').onset.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${10a0e47f-6b01-11ec-2150-020000000000-id}').onset.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="6-ServeConditions - Check Condition 4"/>
      <description value="Check if the previous operation results in a FHIR Condition that contains the values that are expected following Nictiz' materials (fixture .id: 7b9a287f-6ae0-11ec-2149-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Condition"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='58150001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='58150001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Condition resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(code.where(coding.where(code='58150001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(code.where(coding.where(code='58150001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Problem') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DisorderOfChild')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-4"/>
            <description value="Contains .clinicalStatus 'active'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').clinicalStatus = 'active''-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').clinicalStatus = 'active'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '414025005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '414025005' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '414025005' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-9"/>
            <description value="Contains .onsetDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').onset.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Condition).where(id = '${7b9a287f-6ae0-11ec-2149-020000000000-id}').onset.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="7-ServeEncounters">
      <name value="7-ServeEncounters"/>
      <description value="Test Server query operation for Encounters"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Encounter"/>
            <description value="Test XIS server to serve Encounter resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?episodeofcare=${episode-id}&amp;_include=Encounter:practitioner"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-7-ServeEncounters"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 3 Encounter resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Encounter)).count() = 3"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 1 Practitioner resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Practitioner)).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Prenatale controle -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 2 Encounter resource(s) that contains type.coding.code = 11429006. (ContactSoort)"/>
            <direction value="response"/>
            <expression value="Bundle.entry.select(resource as Encounter).where(type.coding.code.where($this='11429006').exists()).count() = 2"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Partusassistentie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Encounter resource(s) that contains type.coding.code = 236973005. (ContactSoort)"/>
            <direction value="response"/>
            <expression value="Bundle.entry.select(resource as Encounter).where(type.coding.code.where($this='236973005').exists()).count() = 1"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="7-ServeEncounters - Check Encounter 1"/>
      <description value="Check if the previous operation results in a FHIR Encounter that contains the values that are expected following Nictiz' materials (fixture .id: 4ba44b1f-6aee-11ec-1275-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Encounter"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='FLD'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='FLD'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Encounter resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='FLD'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='FLD'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .status 'finished'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').status = 'finished''-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').status = 'finished'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .class with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'FLD' and .display and .system 'http://hl7.org/fhir/v3/ActCode' and .code 'FLD' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-1"/>
            <description value="Contains .class.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'FLD' and .display. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4-1"/>
            <description value="Contains .class with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'FLD' and .display. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'FLD' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .type with .coding with .system 'http://snomed.info/sct' and .code '11429006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '11429006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '11429006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .episodeOfCare with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .participant with .individual with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9"/>
            <description value="Contains .period with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').period.where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').period.where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-10"/>
            <description value="Contains .diagnosis with .condition with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').diagnosis.where(condition.where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').diagnosis.where(condition.where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-11"/>
            <description value="Contains .serviceProvider with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').serviceProvider.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${4ba44b1f-6aee-11ec-1275-020000000000-id}').serviceProvider.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="7-ServeEncounters - Check Encounter 2"/>
      <description value="Check if the previous operation results in a FHIR Encounter that contains the values that are expected following Nictiz' materials (fixture .id: 430238a3-6af7-11ec-1275-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Encounter"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='HH'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='HH'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Encounter resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(class.where(coding.where(code='HH'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(class.where(coding.where(code='HH'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Encounter')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-3"/>
            <description value="Contains .status 'finished'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').status = 'finished''-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').status = 'finished'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4"/>
            <description value="Contains .class with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display and .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4-1"/>
            <description value="Contains .class.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks only one child. Assert 2-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4-1"/>
            <description value="Contains .class with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks only one child. Assert 2-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-5"/>
            <description value="Contains .type with .coding with .system 'http://snomed.info/sct' and .code '11429006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '11429006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '11429006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-7"/>
            <description value="Contains .episodeOfCare with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-8"/>
            <description value="Contains .participant with .individual with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-9"/>
            <description value="Contains .period with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').period.where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${430238a3-6af7-11ec-1275-020000000000-id}').period.where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="7-ServeEncounters - Check Encounter 3"/>
      <description value="Check if the previous operation results in a FHIR Encounter that contains the values that are expected following Nictiz' materials (fixture .id: a0cecf3f-6ad4-11ec-1071-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Encounter"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(type.where(coding.where(code='HH'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(type.where(coding.where(code='HH'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Encounter resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(type.where(coding.where(code='HH'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(type.where(coding.where(code='HH'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildBirthAssistance'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildBirthAssistance')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Encounter') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildBirthAssistance')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-3"/>
            <description value="Contains .status 'finished'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').status = 'finished''-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').status = 'finished'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4"/>
            <description value="Contains .class with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display and .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.where(extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display) and system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4-1"/>
            <description value="Contains .class.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks only one child. Assert 3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4-1"/>
            <description value="Contains .class with .system 'http://hl7.org/fhir/v3/ActCode' and .code 'HH' and .display. This assert checks only one child. Assert 3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').class.where(system = 'http://hl7.org/fhir/v3/ActCode' and code = 'HH' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-5"/>
            <description value="Contains .type with .coding with .system 'http://snomed.info/sct' and .code '236973005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '236973005' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').type.where(coding.where(system = 'http://snomed.info/sct' and code = '236973005' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-7"/>
            <description value="Contains .episodeOfCare with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').episodeOfCare.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8"/>
            <description value="Contains .participant with .type with .coding with .system 'http://hl7.org/fhir/v3/ParticipationType' and .code 'RESP' and .display, and .type with .coding with .system 'http://hl7.org/fhir/v3/NullFlavor' and .code 'OTH' and .display and .text with a value, and .type with .coding with .system 'http://hl7.org/fhir/v3/NullFlavor' and .code 'OTH' and .display and .text with a value, and .individual with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/ParticipationType' and code = 'RESP' and display)) and type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()) and type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()) and individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/ParticipationType' and code = 'RESP' and display)) and type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()) and type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()) and individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-1"/>
            <description value="Contains .participant.type with .coding with .system 'http://hl7.org/fhir/v3/ParticipationType' and .code 'RESP' and .display. This assert checks only one child. Assert 3-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/ParticipationType' and code = 'RESP' and display)).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/ParticipationType' and code = 'RESP' and display)).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-2"/>
            <description value="Contains .participant.type with .coding with .system 'http://hl7.org/fhir/v3/NullFlavor' and .code 'OTH' and .display and .text with a value. This assert checks only one child. Assert 3-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-3"/>
            <description value="Contains .participant.type with .coding with .system 'http://hl7.org/fhir/v3/NullFlavor' and .code 'OTH' and .display and .text with a value. This assert checks only one child. Assert 3-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(type.where(coding.where(system = 'http://hl7.org/fhir/v3/NullFlavor' and code = 'OTH' and display) and text.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-4"/>
            <description value="Contains .participant.individual with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display. This assert checks only one child. Assert 3-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-4-1"/>
            <description value="Contains .participant.individual.extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display. This assert checks only one child. Assert 3-8-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8-4-2"/>
            <description value="Contains .participant.individual with either .reference or .identifier and .display. This assert checks only one child. Assert 3-8-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.where((reference or identifier) and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').participant.where(individual.where((reference or identifier) and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-9"/>
            <description value="Contains .period with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').period.where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Encounter).where(id = '${a0cecf3f-6ad4-11ec-1071-020000000000-id}').period.where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="8a-ServeObservations">
      <name value="8a-ServeObservations"/>
      <description value="Test Server query operation for Observations"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Observation"/>
            <description value="Test XIS server to serve Observation resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?context=EpisodeOfCare/${episode-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-8a-ServeObservations"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <!-- parity -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 11977-6. (parity)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '11977-6').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- gravidity -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 11996-6. (gravidity)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '11996-6').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- a terme datum -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 161714006. (geschatte a terme datum)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '161714006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- datum laatste menstruatie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 8665-2. (geschatte a terme datum)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '8665-2').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- vaccinatie kinkhoest -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 39343008. (vaccinatie kinkhoest)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '39343008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- voorgeschiedenis trisomie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 390281000146101. (voorgeschiedenis trisomie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '390281000146101').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- plaats voorkeur bevalling -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 142961000146102. (plaats voorkeur bevalling)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '142961000146102').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- voorgenomen lijn in zorg -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 159821000146107. (voorgenomen lijn in zorg)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '159821000146107').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- voorgenomen voeding -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 169740003. (voorgenomen voeding)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '169740003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- zorg voor kind -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 129879003. (zorg voor kind)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '129879003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- hartslag -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 8893-0. (hartslag)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '8893-0').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- urinatie geweest -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 249278006. (urinatie geweest)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249278006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- lochia -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 2 Observation resource(s) with code http://snomed.info/sct | 249211006. (lochia)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249211006').count()=2).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- TODO: discriminator toevoegen -->
      <!-- T-320D grote hoeveelheid 8 ja ja -->
      <!-- T-315D -->
      <!-- dit zijn componenten geworden, kunnen eruit? -->
      <!--      <!-\- hoeveelheid lochia -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(hoeveelheid lochia)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="366299003"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <!-\- stinkende lochia -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(stinkende lochia)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="276375002"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>
      <!-\- grote bloedstolsels in lochia -\->
      <nts:include value="gbz-assert-returnCountWithCode">
         <nts:with-parameter name="additionalDescription" value="(grote bloedstolsels in lochia)"/>
         <nts:with-parameter name="resource" value="Observation"/>
         <nts:with-parameter name="count" value="1"/>
         <nts:with-parameter name="code" value="146381000146107"/>
         <nts:with-parameter name="system" value="http://snomed.info/sct"/>
      </nts:include>-->
      <!-- bevindingen borsten -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 116339002. (bevindingen borsten)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '116339002').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- flatusincontinentie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 249508009. (flatusincontinentie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249508009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- voorlichting anticonceptie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 150811000119101. (voorlichting anticonceptie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '150811000119101').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- conditie perineum -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364297003. (conditie perineum)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364297003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- bloeddruk (nacontrole) -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 85354-9. (bloeddruk (nacontrole))"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '85354-9').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- lichaamstemperatuur -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 8310-5. (lichaamstemperatuur)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '8310-5').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- zwangerschapsduur -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 3 Observation resource(s) with code http://snomed.info/sct | 57036006. (zwangerschapsduur)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '57036006').count()=3).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- blaasfunctie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 28278009. (blaasfunctie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '28278009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- darmfunctie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 111989001. (darmfunctie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '111989001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- uteruscontracties TODO: check of deze niet onder contact verlossing hoort -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364277008. (uteruscontracties)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364277008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- hb -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 93846-4. (uteruscontracties)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '93846-4').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- woonsituatie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 365508006. (woonsituatie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '365508006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- foetus -->
      <!-- echo bevindingen algemeen -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 370379002. (echo bevindingen algemeen)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '370379002').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- buikomtrek -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 11979-2. (buikomtrek)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '11979-2').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- hoofdomtrek -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 363812007. (hoofdomtrek)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '363812007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- kind -->
      <!-- feces -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 249612005. (feces)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249612005').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- vitamine K -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 698350008. (vitamine K)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '698350008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- neonatale sterfte -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 276506001. (neonatale sterfte)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '276506001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- geboortegewicht -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 8339-4. (geboortegewicht)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '8339-4').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- geboortelengte -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 89269-5. (geboortelengte)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '89269-5').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Apgar 1 minuut -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 9272-6. (Apgar 1 minuut)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '9272-6').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Apgar 5 minuten -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 9274-2. (Apgar 5 minuten)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '9274-2').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Apgar 10 minuten -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://loinc.org | 9271-8. (Apgar 10 minuten)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://loinc.org' and code = '9271-8').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding huid -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364528001. (Bevinding huid)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364528001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding hoofd-hals -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364403006. (Bevinding hoofd-hals)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364403006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding thorax -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364434005. (Bevinding thorax)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364434005').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding abdomen -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364446009. (Bevinding abdomen)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364446009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding rug -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364415005. (Bevinding rug)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364415005').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding extremiteiten -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 363799009. (Bevinding extremiteiten)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '363799009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding genitalia -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364204002. (Bevinding genitalia)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364204002').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- Bevinding neurologie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 363820009. (Bevinding neurologie)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '363820009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- voedingspatroon zuigeling -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 289145007. (voedingspatroon zuigeling)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '289145007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 1"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: c3318aaf-6b5f-11ec-2334-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11977-6'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11977-6'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11977-6'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11977-6'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Parity'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Parity').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Parity').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '11977-6' and .display and .coding with .system 'http://snomed.info/sct' and .code '364325004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '11977-6' and display) and coding.where(system = 'http://snomed.info/sct' and code = '364325004' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '11977-6' and display) and coding.where(system = 'http://snomed.info/sct' and code = '364325004' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c3318aaf-6b5f-11ec-2334-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 2"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: d714b6bf-6b22-11ec-2334-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11996-6'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11996-6'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11996-6'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11996-6'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Gravidity'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Gravidity').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Gravidity').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '11996-6' and .display and .coding with .system 'http://snomed.info/sct' and .code '161732006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '11996-6' and display) and coding.where(system = 'http://snomed.info/sct' and code = '161732006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '11996-6' and display) and coding.where(system = 'http://snomed.info/sct' and code = '161732006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d714b6bf-6b22-11ec-2334-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 3"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 9b22e4ee-6b40-11ec-2334-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='161714006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='161714006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='161714006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='161714006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '161714006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '161714006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '161714006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-9"/>
            <description value="Contains .valueDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').value.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').value.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-10"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '31521000146100' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '31521000146100' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${9b22e4ee-6b40-11ec-2334-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '31521000146100' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 4"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 15fc3c00-6b42-11ec-2335-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8665-2'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8665-2'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8665-2'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8665-2'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-DateLastMenstruation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-DateLastMenstruation').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-DateLastMenstruation').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '8665-2' and .display and .coding with .system 'http://snomed.info/sct' and .code '21840007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '8665-2' and display) and coding.where(system = 'http://snomed.info/sct' and code = '21840007' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '8665-2' and display) and coding.where(system = 'http://snomed.info/sct' and code = '21840007' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-9"/>
            <description value="Contains .valueDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').value.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${15fc3c00-6b42-11ec-2335-020000000000-id}').value.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 5"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 281dc7ef-6b5a-11ec-2436-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='39343008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='39343008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='39343008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='39343008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '39343008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '39343008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '39343008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-9"/>
            <description value="Contains .valueBoolean 'true'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').value.ofType(boolean) = true'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${281dc7ef-6b5a-11ec-2436-020000000000-id}').value.where($this is boolean) = true"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 6"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 014a50ff-6b34-11ec-1027-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='390281000146101'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='390281000146101'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='390281000146101'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='390281000146101'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '390281000146101' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '390281000146101' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '390281000146101' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-9"/>
            <description value="Contains .valueBoolean 'true'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').value.ofType(boolean) = true'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${014a50ff-6b34-11ec-1027-020000000000-id}').value.where($this is boolean) = true"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 7"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 06dbcb2d-6ade-11ec-2225-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='142961000146102'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='142961000146102'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='142961000146102'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='142961000146102'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '142961000146102' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '142961000146102' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '142961000146102' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-8"/>
            <description value="Contains .valueCodeableConcept with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference' with .valueReference with either .reference or .identifier and .display and .coding with .system 'http://snomed.info/sct' and .code '285201006' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.ofType(CodeableConcept).where(extension('http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference').value.ofType(Reference).where((reference or identifier) and display) and coding.where(system = 'http://snomed.info/sct' and code = '285201006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.where($this is CodeableConcept).where(extension('http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference').value.where($this is Reference).where((reference or identifier) and display) and coding.where(system = 'http://snomed.info/sct' and code = '285201006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-8-1"/>
            <description value="Contains .valueCodeableConcept.extension with url 'http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference' with .valueReference with either .reference or .identifier and .display. This assert checks only one child. Assert 7-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.ofType(CodeableConcept).extension('http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.where($this is CodeableConcept).extension('http://nictiz.nl/fhir/StructureDefinition/bc-observation-valuereference').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-8-1"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '285201006' and .display. This assert checks only one child. Assert 7-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.ofType(CodeableConcept).where(coding.where(system = 'http://snomed.info/sct' and code = '285201006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${06dbcb2d-6ade-11ec-2225-020000000000-id}').value.where($this is CodeableConcept).where(coding.where(system = 'http://snomed.info/sct' and code = '285201006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 8"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 7d2400cf-6ab4-11ec-2333-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='159821000146107'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='159821000146107'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='159821000146107'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='159821000146107'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '159821000146107' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '159821000146107' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '159821000146107' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '160071000146101' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '160071000146101' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7d2400cf-6ab4-11ec-2333-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '160071000146101' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 9"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: b4808c2f-6b75-11ec-2227-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='169740003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='169740003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='169740003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='169740003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '169740003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '169740003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '169740003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '169643005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169643005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b4808c2f-6b75-11ec-2227-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169643005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 10"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 272aac80-6afe-11ec-2998-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='129879003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='129879003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='129879003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='129879003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-AbilityToTakeCareOfChild' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-AbilityToTakeCareOfChild') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-AbilityToTakeCareOfChild') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '129879003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '129879003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '129879003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-8"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '129265001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129265001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129265001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '160351000146107' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '159911000146108' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160351000146107' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '159911000146108' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160351000146107' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '159911000146108' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '160351000146107' and .display. This assert checks only one child. Assert 10-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160351000146107' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160351000146107' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-9-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '159911000146108' and .display. This assert checks only one child. Assert 10-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '159911000146108' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '159911000146108' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '160341000146109' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '126321000146108' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160341000146109' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '126321000146108' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160341000146109' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '126321000146108' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '160341000146109' and .display. This assert checks only one child. Assert 10-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160341000146109' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160341000146109' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-10-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '126321000146108' and .display. This assert checks only one child. Assert 10-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '126321000146108' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${272aac80-6afe-11ec-2998-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '126321000146108' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 11"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 7792504f-6aea-11ec-2275-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8893-0'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8893-0'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8893-0'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8893-0'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-PulseRate'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-PulseRate').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-PulseRate').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-4"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '8893-0' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8893-0' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8893-0' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7792504f-6aea-11ec-2275-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 12"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: e13f72d4-6ac4-11ec-1077-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249278006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249278006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249278006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249278006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249278006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249278006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249278006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-7"/>
            <description value="Contains .valueBoolean 'false'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').value.ofType(boolean) = false'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e13f72d4-6ac4-11ec-1077-020000000000-id}').value.where($this is boolean) = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 13"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: fd60b5ce-6af2-11ec-2310-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249211006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-8"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '129268004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '249211006' and .display and .coding with .system 'http://snomed.info/sct' and .code '366299003' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289580000' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.where(coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display) and coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display)) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289580000' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.where(coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display) and coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display)) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289580000' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '249211006' and .display and .coding with .system 'http://snomed.info/sct' and .code '366299003' and .display. This assert checks only one child. Assert 13-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.where(coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display) and coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display)).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.where(coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display) and coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display)).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-9-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289580000' and .display. This assert checks only one child. Assert 13-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289580000' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289580000' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '366299003' and .display, and .valueString with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display) and value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display) and value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '366299003' and .display. This assert checks only one child. Assert 13-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '366299003' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-10-2"/>
            <description value="Contains .component.valueString with a value. This assert checks only one child. Assert 13-10 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-11"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '276375002' and .display, and .valueBoolean with .... This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '276375002' and display) and ).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '276375002' and display) and ).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-11-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '276375002' and .display. This assert checks only one child. Assert 13-11 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '276375002' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '276375002' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-12"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '146381000146107' and .display, and .valueBoolean with .... This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '146381000146107' and display) and ).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '146381000146107' and display) and ).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-12-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '146381000146107' and .display. This assert checks only one child. Assert 13-12 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '146381000146107' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${fd60b5ce-6af2-11ec-2310-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '146381000146107' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 14"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 3148440f-6b7b-11ec-2797-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249211006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249211006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249211006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249211006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289577001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289577001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3148440f-6b7b-11ec-2797-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289577001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 15"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: f403f58f-6ac6-11ec-2285-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='116339002'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='116339002'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='116339002'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='116339002'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-BreastFindings' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BreastFindings') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BreastFindings') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '116339002' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '116339002' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '116339002' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-8"/>
            <description value="Contains .bodySite with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier' with .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '7771000' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').bodySite.extension('http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '7771000' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').bodySite.extension('http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '7771000' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364376001' and .display, and .valueString with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364376001' and display) and value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364376001' and display) and value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364376001' and .display. This assert checks only one child. Assert 15-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364376001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364376001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-9-2"/>
            <description value="Contains .component.valueString with a value. This assert checks only one child. Assert 15-9 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${f403f58f-6ac6-11ec-2285-020000000000-id}').component.where(value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 16"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 64f732d4-6b7d-11ec-1067-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249508009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249508009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249508009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249508009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249508009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249508009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249508009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-7"/>
            <description value="Contains .valueBoolean 'false'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').value.ofType(boolean) = false'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${64f732d4-6b7d-11ec-1067-020000000000-id}').value.where($this is boolean) = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 17"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 197537c6-6b7a-11ec-2432-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='150811000119101'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='150811000119101'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='150811000119101'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='150811000119101'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthControl' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthControl') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthControl') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '150811000119101' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '150811000119101' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '150811000119101' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-8"/>
            <description value="Contains .valueBoolean 'true'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').value.ofType(boolean) = true'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').value.where($this is boolean) = true"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-9"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '129265001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129265001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${197537c6-6b7a-11ec-2432-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129265001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 18"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 884951cf-6af1-11ec-2795-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364297003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364297003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364297003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364297003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364297003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364297003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364297003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289854007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289854007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${884951cf-6af1-11ec-2795-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289854007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 19"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 517a25ea-6ae5-11ec-2106-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='85354-9'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='85354-9'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='85354-9'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='85354-9'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-BloodPressure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BloodPressure').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BloodPressure').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-4"/>
            <description value="Contains .category with .coding with .system 'http://hl7.org/fhir/observation-category' and .code 'vital-signs' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '85354-9' and .display and .coding with .system 'http://loinc.org' and .code '55284-4' and .display and .coding with .system 'http://snomed.info/sct' and .code '46973005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '85354-9' and display) and coding.where(system = 'http://loinc.org' and code = '55284-4' and display) and coding.where(system = 'http://snomed.info/sct' and code = '46973005' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').code.where(coding.where(system = 'http://loinc.org' and code = '85354-9' and display) and coding.where(system = 'http://loinc.org' and code = '55284-4' and display) and coding.where(system = 'http://snomed.info/sct' and code = '46973005' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://loinc.org' and .code '8480-6' and .display, and .valueQuantity with .value '120' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm[Hg]'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8480-6' and display) and value.ofType(Quantity).where(value = 120 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8480-6' and display) and value.where($this is Quantity).where(value = 120 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://loinc.org' and .code '8480-6' and .display. This assert checks only one child. Assert 19-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8480-6' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8480-6' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-9-2"/>
            <description value="Contains .component.valueQuantity with .value '120' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm[Hg]'. This assert checks only one child. Assert 19-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(value.ofType(Quantity).where(value = 120 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(value.where($this is Quantity).where(value = 120 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://loinc.org' and .code '8462-4' and .display, and .valueQuantity with .value '70' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm[Hg]'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8462-4' and display) and value.ofType(Quantity).where(value = 70 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8462-4' and display) and value.where($this is Quantity).where(value = 70 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://loinc.org' and .code '8462-4' and .display. This assert checks only one child. Assert 19-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8462-4' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '8462-4' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-10-2"/>
            <description value="Contains .component.valueQuantity with .value '70' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm[Hg]'. This assert checks only one child. Assert 19-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(value.ofType(Quantity).where(value = 70 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${517a25ea-6ae5-11ec-2106-020000000000-id}').component.where(value.where($this is Quantity).where(value = 70 and unit and system = 'http://unitsofmeasure.org' and code = 'mm[Hg]').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 20"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 35de3e6f-6aa0-11ec-2279-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8310-5'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8310-5'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8310-5'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8310-5'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-4"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '8310-5' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8310-5' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8310-5' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="20-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${35de3e6f-6aa0-11ec-2279-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 21"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 1e4c9ad8-6ac2-11ec-2334-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='56')).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-4"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-5"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-6"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-7"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-8"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-9"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '57036006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-10"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-11"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="21-12"/>
            <description value="Contains .valueQuantity with .value '56' and .unit and .system 'http://unitsofmeasure.org' and .code 'd'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').value.ofType(Quantity).where(value = 56 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1e4c9ad8-6ac2-11ec-2334-020000000000-id}').value.where($this is Quantity).where(value = 56 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 22"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 925236bf-6ab4-11ec-2702-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='209')).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-4"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-5"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-6"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-7"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-8"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-9"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '57036006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-10"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-11"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="22-12"/>
            <description value="Contains .valueQuantity with .value '209' and .unit and .system 'http://unitsofmeasure.org' and .code 'd'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').value.ofType(Quantity).where(value = 209 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${925236bf-6ab4-11ec-2702-020000000000-id}').value.where($this is Quantity).where(value = 209 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 23"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 1d638062-6b49-11ec-1069-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='57036006')) and value.where(value='258')).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Pregnancy-Duration').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-4"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-5"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-6"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-7"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-8"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-9"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-10"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-11"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-12"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-13"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-14"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-15"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-16"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-17"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-18"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-19"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-20"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-21"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-22"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/workflow-supportingInfoSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-23"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-24"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-25"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '57036006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '57036006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-26"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-27"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="23-28"/>
            <description value="Contains .valueQuantity with .value '258' and .unit and .system 'http://unitsofmeasure.org' and .code 'd'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').value.ofType(Quantity).where(value = 258 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1d638062-6b49-11ec-1069-020000000000-id}').value.where($this is Quantity).where(value = 258 and unit and system = 'http://unitsofmeasure.org' and code = 'd').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 24"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='28278009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='28278009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='28278009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='28278009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="24-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-BladderFunction'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BladderFunction').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BladderFunction').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="24-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="24-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="24-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '28278009' and .display and .coding with .system 'http://snomed.info/sct' and .code '364196001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').code.where(coding.where(system = 'http://snomed.info/sct' and code = '28278009' and display) and coding.where(system = 'http://snomed.info/sct' and code = '364196001' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').code.where(coding.where(system = 'http://snomed.info/sct' and code = '28278009' and display) and coding.where(system = 'http://snomed.info/sct' and code = '364196001' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="24-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BladderFunction-mm-gbz-d225f1f6-6b5f-11ec-2275-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 25"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='111989001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='111989001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='111989001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='111989001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-BowelFunction'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BowelFunction').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BowelFunction').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '111989001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '111989001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '111989001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-6"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '162098000' and .display, and .valueQuantity with .value '1'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '162098000' and display) and value.ofType(Quantity).value = 1).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '162098000' and display) and value.where($this is Quantity).value = 1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-6-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '162098000' and .display. This assert checks only one child. Assert 25-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '162098000' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '162098000' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-6-2"/>
            <description value="Contains .component.valueQuantity with .value '1'. This assert checks only one child. Assert 25-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.ofType(Quantity).value = 1).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.where($this is Quantity).value = 1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-7"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '443172007' and .display, and .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and .code 'Type 2' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '443172007' and display) and value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and code = 'Type 2' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '443172007' and display) and value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and code = 'Type 2' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-7-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '443172007' and .display. This assert checks only one child. Assert 25-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '443172007' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '443172007' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-7-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and .code 'Type 2' and .display. This assert checks only one child. Assert 25-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and code = 'Type 2' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.3.1' and code = 'Type 2' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-8"/>
            <description value="Contains .component with .code with .coding with .system 'http://loinc.org' and .code '9397-1' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '167605001' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '9397-1' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '167605001' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '9397-1' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '167605001' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-8-1"/>
            <description value="Contains .component.code with .coding with .system 'http://loinc.org' and .code '9397-1' and .display. This assert checks only one child. Assert 25-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '9397-1' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(code.coding.where(system = 'http://loinc.org' and code = '9397-1' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="25-8-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '167605001' and .display. This assert checks only one child. Assert 25-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '167605001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${BowelFunction-mm-gbz-52a8c07f-6aef-11ec-2278-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '167605001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 26"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 7146c3ef-6a97-11ec-2176-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364277008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364277008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364277008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364277008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-UterusActivity' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-UterusActivity') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-UterusActivity') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364277008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364277008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364277008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-8"/>
            <description value="Contains .performer with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display) and (reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-8-1"/>
            <description value="Contains .performer.extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display. This assert checks only one child. Assert 26-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.ofType(Reference).where((reference or identifier) and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').value.where($this is Reference).where((reference or identifier) and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-8-1"/>
            <description value="Contains .performer with either .reference or .identifier and .display. This assert checks only one child. Assert 26-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').performer.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-9"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '114981000146108' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '114981000146108' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '114981000146108' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364270005' and .display, and .valueQuantity with .value '180' and .unit and .system 'http://unitsofmeasure.org' and .code '/s'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364270005' and display) and value.ofType(Quantity).where(value = 180 and unit and system = 'http://unitsofmeasure.org' and code = '/s')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364270005' and display) and value.where($this is Quantity).where(value = 180 and unit and system = 'http://unitsofmeasure.org' and code = '/s')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364270005' and .display. This assert checks only one child. Assert 26-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364270005' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364270005' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-10-2"/>
            <description value="Contains .component.valueQuantity with .value '180' and .unit and .system 'http://unitsofmeasure.org' and .code '/s'. This assert checks only one child. Assert 26-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.ofType(Quantity).where(value = 180 and unit and system = 'http://unitsofmeasure.org' and code = '/s').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.where($this is Quantity).where(value = 180 and unit and system = 'http://unitsofmeasure.org' and code = '/s').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-11"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364274001' and .display, and .valueQuantity with .value '60' and .unit and .system 'http://unitsofmeasure.org' and .code 's'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364274001' and display) and value.ofType(Quantity).where(value = 60 and unit and system = 'http://unitsofmeasure.org' and code = 's')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364274001' and display) and value.where($this is Quantity).where(value = 60 and unit and system = 'http://unitsofmeasure.org' and code = 's')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-11-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364274001' and .display. This assert checks only one child. Assert 26-11 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364274001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364274001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-11-2"/>
            <description value="Contains .component.valueQuantity with .value '60' and .unit and .system 'http://unitsofmeasure.org' and .code 's'. This assert checks only one child. Assert 26-11 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.ofType(Quantity).where(value = 60 and unit and system = 'http://unitsofmeasure.org' and code = 's').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.where($this is Quantity).where(value = 60 and unit and system = 'http://unitsofmeasure.org' and code = 's').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-12"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '251680002' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289722007' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '251680002' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289722007' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '251680002' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289722007' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-12-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '251680002' and .display. This assert checks only one child. Assert 26-12 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '251680002' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '251680002' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-12-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289722007' and .display. This assert checks only one child. Assert 26-12 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289722007' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289722007' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-13"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364271009' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289708007' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364271009' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289708007' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364271009' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289708007' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-13-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364271009' and .display. This assert checks only one child. Assert 26-13 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364271009' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364271009' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-13-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289708007' and .display. This assert checks only one child. Assert 26-13 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289708007' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289708007' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-14"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '289699001' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289738001' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '289699001' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289738001' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '289699001' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289738001' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-14-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '289699001' and .display. This assert checks only one child. Assert 26-14 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '289699001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '289699001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="26-14-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289738001' and .display. This assert checks only one child. Assert 26-14 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289738001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7146c3ef-6a97-11ec-2176-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289738001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 27"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='93846-4'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='93846-4'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='93846-4'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='93846-4'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Observation').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Observation').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-3"/>
            <description value="Contains .status with .extension with url 'http://hl7.org/fhir/StructureDefinition/data-absent-reason' with .valueCode 'unknown'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').status.where(extension('http://hl7.org/fhir/StructureDefinition/data-absent-reason').value.ofType(code) = 'unknown').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').status.where(extension('http://hl7.org/fhir/StructureDefinition/data-absent-reason').value.where($this is code) = 'unknown').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-4"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '49581000146104' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '49581000146104' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').category.where(coding.where(system = 'http://snomed.info/sct' and code = '49581000146104' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '93846-4' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '93846-4' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '93846-4' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="27-7"/>
            <description value="Contains .valueQuantity with .value '7' and .unit and .system 'http://unitsofmeasure.org' and .code 'mmol/L'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').value.ofType(Quantity).where(value = 7 and unit and system = 'http://unitsofmeasure.org' and code = 'mmol/L').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${LabTestRes-Obs-mm-gbz-1109f9ee-6aaf-11ec-2237-020000000000-id}').value.where($this is Quantity).where(value = 7 and unit and system = 'http://unitsofmeasure.org' and code = 'mmol/L').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 28"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 1cd7cabf-6b79-11ec-2172-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='365508006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='365508006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='365508006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='365508006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-LivingSituation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-LivingSituation').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-LivingSituation').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '365508006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '365508006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '365508006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="28-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.13.1' and .code 'EENGEZW' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.13.1' and code = 'EENGEZW' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1cd7cabf-6b79-11ec-2172-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.13.1' and code = 'EENGEZW' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 29"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 162f7dbf-6b39-11ec-2891-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='370379002'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='370379002'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='370379002'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='370379002'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyUltraSoundGeneralFindings' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyUltraSoundGeneralFindings') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyUltraSoundGeneralFindings') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-4"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-5"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '370379002' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '370379002' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '370379002' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-9"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-10"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.4.13.56' and .code '1' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.4.13.56' and code = '1' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.4.13.56' and code = '1' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="29-11"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '278292003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '278292003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${162f7dbf-6b39-11ec-2891-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '278292003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 30"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 787efb9f-6b29-11ec-2351-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11979-2'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11979-2'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='11979-2'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='11979-2'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-4"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-5"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-6"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '11979-2' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '11979-2' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '11979-2' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-9"/>
            <description value="Contains .valueQuantity with .value '310.5' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').value.ofType(Quantity).where(value = 310.5 and unit and system = 'http://unitsofmeasure.org' and code = 'mm').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').value.where($this is Quantity).where(value = 310.5 and unit and system = 'http://unitsofmeasure.org' and code = 'mm').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="30-10"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '278292003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '278292003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${787efb9f-6b29-11ec-2351-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '278292003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 31"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: e20e2e86-6aee-11ec-2362-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363812007'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363812007'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363812007'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363812007'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-HeadCircumference'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-HeadCircumference').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-HeadCircumference').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-3"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.ofType(Reference).where((reference or identifier) and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').where(value.where($this is Reference).where((reference or identifier) and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-4"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-5"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '363812007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363812007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363812007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-9"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-10"/>
            <description value="Contains .valueQuantity with .value '341' and .unit and .system 'http://unitsofmeasure.org' and .code 'mm'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').value.ofType(Quantity).where(value = 341 and unit and system = 'http://unitsofmeasure.org' and code = 'mm').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').value.where($this is Quantity).where(value = 341 and unit and system = 'http://unitsofmeasure.org' and code = 'mm').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="31-11"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '31561000146107' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '31561000146107' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${e20e2e86-6aee-11ec-2362-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '31561000146107' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 32"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 16f64220-6aef-11ec-2993-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249612005'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249612005'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249612005'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249612005'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ExcretionFeces' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ExcretionFeces') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ExcretionFeces') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249612005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249612005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249612005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-8"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '129268004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364690008' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '249621006' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364690008' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249621006' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364690008' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249621006' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364690008' and .display. This assert checks only one child. Assert 32-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364690008' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364690008' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-9-2"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '249621006' and .display. This assert checks only one child. Assert 32-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249621006' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249621006' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '160281000146105' and .display, and .valueQuantity with .value '6' and .unit and .system 'http://unitsofmeasure.org' and .code matching regex '^{52065008 luier (fysiek object)}$'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160281000146105' and display) and value.ofType(Quantity).where(value = 6 and unit and system = 'http://unitsofmeasure.org' and code.matches('^\\{.+\\}$'))).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160281000146105' and display) and value.where($this is Quantity).where(value = 6 and unit and system = 'http://unitsofmeasure.org' and code.matches('^\\{.+\\}$'))).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '160281000146105' and .display. This assert checks only one child. Assert 32-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160281000146105' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '160281000146105' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="32-10-2"/>
            <description value="Contains .component.valueQuantity with .value '6' and .unit and .system 'http://unitsofmeasure.org' and .code matching regex '^{52065008 luier (fysiek object)}$'. This assert checks only one child. Assert 32-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(value.ofType(Quantity).where(value = 6 and unit and system = 'http://unitsofmeasure.org' and code.matches('^\\{.+\\}$')).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${16f64220-6aef-11ec-2993-020000000000-id}').component.where(value.where($this is Quantity).where(value = 6 and unit and system = 'http://unitsofmeasure.org' and code.matches('^\\{.+\\}$')).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 33"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 896d47ef-6abb-11ec-1075-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='698350008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='698350008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='698350008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='698350008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-VitaminKAdministration' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-VitaminKAdministration') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-VitaminKAdministration') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '698350008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '698350008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '698350008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-8"/>
            <description value="Contains .valueBoolean 'true'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').value.ofType(boolean) = true'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').value.where($this is boolean) = true"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-9"/>
            <description value="Contains .method with .coding with .system 'http://snomed.info/sct' and .code '129268004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').method.coding.where(system = 'http://snomed.info/sct' and code = '129268004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-10"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '439771001' and .display, and .valueDateTime. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '439771001' and display) and value.ofType(dateTime)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '439771001' and display) and value.where($this is dateTime)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-10-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '439771001' and .display. This assert checks only one child. Assert 33-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '439771001' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '439771001' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="33-10-2"/>
            <description value="Contains .component.valueDateTime. This assert checks only one child. Assert 33-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(value.ofType(dateTime).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${896d47ef-6abb-11ec-1075-020000000000-id}').component.where(value.where($this is dateTime).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 34"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 5227d9b5-6b37-11ec-2175-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='276506001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='276506001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='276506001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='276506001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-PerinatalDeath' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PerinatalDeath') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PerinatalDeath') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '276506001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '276506001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '276506001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="34-7"/>
            <description value="Contains .valueBoolean 'false'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').value.ofType(boolean) = false'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5227d9b5-6b37-11ec-2175-020000000000-id}').value.where($this is boolean) = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 35"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 05c0b35f-6b33-11ec-2141-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8339-4'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8339-4'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='8339-4'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='8339-4'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-4"/>
            <description value="Contains .category with .coding with .system 'http://hl7.org/fhir/observation-category' and .code 'vital-signs' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '8339-4' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8339-4' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '8339-4' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="35-9"/>
            <description value="Contains .valueQuantity with .value '2192' and .unit and .system 'http://unitsofmeasure.org' and .code 'g'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').value.ofType(Quantity).where(value = 2192 and unit and system = 'http://unitsofmeasure.org' and code = 'g').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${05c0b35f-6b33-11ec-2141-020000000000-id}').value.where($this is Quantity).where(value = 2192 and unit and system = 'http://unitsofmeasure.org' and code = 'g').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 36"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 17378d46-6b35-11ec-2142-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='89269-5'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='89269-5'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='89269-5'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='89269-5'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-BodyHeight'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BodyHeight').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-BodyHeight').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-4"/>
            <description value="Contains .category with .coding with .system 'http://hl7.org/fhir/observation-category' and .code 'vital-signs' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').category.where(coding.where(system = 'http://hl7.org/fhir/observation-category' and code = 'vital-signs' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-5"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '89269-5' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '89269-5' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '89269-5' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="36-9"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${17378d46-6b35-11ec-2142-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 37"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 622ece8f-6b63-11ec-2140-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9272-6'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9272-6'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9272-6'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9272-6'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-4"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '9272-6' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9272-6' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9272-6' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="37-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${622ece8f-6b63-11ec-2140-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 38"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 513e600f-6ab8-11ec-2966-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9274-2'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9274-2'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9274-2'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9274-2'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-4"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '9274-2' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9274-2' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9274-2' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="38-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${513e600f-6ab8-11ec-2966-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 39"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 38e392be-6b3a-11ec-2967-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9271-8'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9271-8'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='9271-8'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='9271-8'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-ApgarScore').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-4"/>
            <description value="Contains .code with .coding with .system 'http://loinc.org' and .code '9271-8' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9271-8' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').code.coding.where(system = 'http://loinc.org' and code = '9271-8' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="39-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${38e392be-6b3a-11ec-2967-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 40"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 697342df-6b53-11ec-2296-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364528001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364528001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364528001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364528001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364528001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364528001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364528001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '300885006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '300885006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '300885006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="40-9"/>
            <description value="Contains .bodySite with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier' with .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '51440002' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').bodySite.extension('http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '51440002' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${697342df-6b53-11ec-2296-020000000000-id}').bodySite.extension('http://nictiz.nl/fhir/StructureDefinition/BodySite-Qualifier').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '51440002' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 41"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: cdcf7a8f-6a9c-11ec-2296-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364403006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364403006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364403006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364403006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364403006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364403006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364403006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="41-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${cdcf7a8f-6a9c-11ec-2296-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 42"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: b1e5da8f-6b69-11ec-2297-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364434005'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364434005'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364434005'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364434005'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364434005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364434005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364434005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="42-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e5da8f-6b69-11ec-2297-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 43"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 1b201a8f-6b77-11ec-2307-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364446009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364446009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364446009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364446009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364446009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364446009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364446009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="43-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${1b201a8f-6b77-11ec-2307-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 44"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 8b805a8f-6ae9-11ec-2307-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364415005'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364415005'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364415005'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364415005'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364415005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364415005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364415005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="44-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${8b805a8f-6ae9-11ec-2307-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 45"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 0cfcda8f-6b34-11ec-2308-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363799009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363799009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363799009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363799009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '363799009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363799009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363799009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="45-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${0cfcda8f-6b34-11ec-2308-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 46"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 2f5e1a8f-6b6b-11ec-2304-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364204002'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364204002'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364204002'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364204002'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364204002' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364204002' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364204002' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="46-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2f5e1a8f-6b6b-11ec-2304-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 47"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: caf08a8f-6b6d-11ec-2308-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363820009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363820009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='363820009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='363820009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ChildObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '363820009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363820009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '363820009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="47-7"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '281900007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${caf08a8f-6b6d-11ec-2308-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '281900007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8a-ServeObservations - Check Observation 48"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 82da0a04-6a99-11ec-2793-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289145007'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289145007'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289145007'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289145007'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-FeedingPatternInfant' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FeedingPatternInfant') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FeedingPatternInfant') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-3"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-4"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '289145007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '289145007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '289145007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-5"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-6"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-7"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-8"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '158451000146107' and .display, and .valueBoolean with .... This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '158451000146107' and display) and ).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '158451000146107' and display) and ).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-8-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '158451000146107' and .display. This assert checks only one child. Assert 48-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '158451000146107' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '158451000146107' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-9"/>
            <description value="Contains .component with .code with .coding with .system 'http://snomed.info/sct' and .code '364653007' and .display, and .valueString with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364653007' and display) and value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364653007' and display) and value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-9-1"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '364653007' and .display. This assert checks only one child. Assert 48-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364653007' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '364653007' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-9-2"/>
            <description value="Contains .component.valueString with a value. This assert checks only one child. Assert 48-9 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-10"/>
            <description value="Contains .component with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod' with .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '169741004' and .display and .extension with url 'http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration' with .valueQuantity with .value '30' and .unit and .system 'http://unitsofmeasure.org' and .code 'min' and .code with .coding with .system 'http://snomed.info/sct' and .code '109021000146107' and .display, and .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '226789007' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169741004' and display) and extension('http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration').value.ofType(Quantity).where(value = 30 and unit and system = 'http://unitsofmeasure.org' and code = 'min') and code.coding.where(system = 'http://snomed.info/sct' and code = '109021000146107' and display) and value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '226789007' and display)).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169741004' and display) and extension('http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration').value.where($this is Quantity).where(value = 30 and unit and system = 'http://unitsofmeasure.org' and code = 'min') and code.coding.where(system = 'http://snomed.info/sct' and code = '109021000146107' and display) and value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '226789007' and display)).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-10-1"/>
            <description value="Contains .component.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod' with .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '169741004' and .display. This assert checks only one child. Assert 48-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169741004' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-FeedingPatternInfant-FeedingMethod').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '169741004' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-10-2"/>
            <description value="Contains .component.extension with url 'http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration' with .valueQuantity with .value '30' and .unit and .system 'http://unitsofmeasure.org' and .code 'min'. This assert checks only one child. Assert 48-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration').value.ofType(Quantity).where(value = 30 and unit and system = 'http://unitsofmeasure.org' and code = 'min').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(extension('http://nictiz.nl/fhir/StructureDefinition/bc-feedingpatterninfant-feedingduration').value.where($this is Quantity).where(value = 30 and unit and system = 'http://unitsofmeasure.org' and code = 'min').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-10-3"/>
            <description value="Contains .component.code with .coding with .system 'http://snomed.info/sct' and .code '109021000146107' and .display. This assert checks only one child. Assert 48-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '109021000146107' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(code.coding.where(system = 'http://snomed.info/sct' and code = '109021000146107' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="48-10-4"/>
            <description value="Contains .component.valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '226789007' and .display. This assert checks only one child. Assert 48-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '226789007' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${82da0a04-6a99-11ec-2793-020000000000-id}').component.where(value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '226789007' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="8b-ServeObservations">
      <name value="8b-ServeObservations"/>
      <description value="Test Server query operation for Observations"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Observation"/>
            <description value="Test XIS server to serve Observation resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?context:Encounter.episodeofcare=EpisodeOfCare/${episode-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-8b-ServeObservations"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <!-- bewegingspatroon foetus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364618000. (bewegingspatroon foetus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364618000').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- hoogte uterus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364265003. (hoogte uterus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364265003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- ligging foetus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 249062004. (ligging foetus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249062004').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- indaling foetus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364611006. (indaling foetus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364611006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- tijdstip gebroken vliezen -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 289251005. (tijdstip gebroken vliezen)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '289251005').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- vruchtwater -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 168089007. (vruchtwater)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '168089007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- type partus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 366334007. (type partus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '366334007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- ligging kind -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 271692001. (ligging kind)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '271692001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- plaats baring -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 366344009. (plaats baring)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '366344009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- geboorte placenta -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 236994008. (geboorte placenta)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '236994008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- tijdstip geboorte placenta -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 136311000146100. (tijdstip geboorte placenta)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '136311000146100').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- compleetheid placenta -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364343000. (compleetheid placenta)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364343000').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- placenta PA -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 168123008. (placenta PA)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '168123008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- testuitslag PA -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 726566009. (testuitslag PA)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '726566009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- vruchtvliezen -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364351002. (vruchtvliezen)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364351002').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- navelstreng -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 249191003. (navelstreng)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '249191003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- bloedverlies -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 364332008. (bloedverlies)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '364332008').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- datum begin eerste fase partus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 160621000146107. (datum begin eerste fase partus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '160621000146107').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- wijze begin eerste fase partus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Observation resource(s) with code http://snomed.info/sct | 160611000146102. (wijze begin eerste fase partus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Observation)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '160611000146102').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 1"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: b1e145bf-6ab0-11ec-2213-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364618000'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364618000'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364618000'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364618000'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-PregnancyObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364618000' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364618000' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364618000' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '276369006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '276369006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b1e145bf-6ab0-11ec-2213-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '276369006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 2"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 76f90ee2-6b73-11ec-2404-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364265003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364265003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364265003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364265003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364265003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364265003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364265003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '289629009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289629009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '289629009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-9"/>
            <description value="Contains .comment with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').comment.hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').comment.hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-10"/>
            <description value="Contains .bodySite with .coding with .system 'http://snomed.info/sct' and .code '27485007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = '27485007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${76f90ee2-6b73-11ec-2404-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = '27485007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 3"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: c050bc96-6aee-11ec-2406-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249062004'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249062004'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249062004'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249062004'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249062004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249062004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249062004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '288203005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '288203005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '288203005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-9"/>
            <description value="Contains .bodySite with .coding with .system 'http://snomed.info/sct' and .code 'NI'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = 'NI').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c050bc96-6aee-11ec-2406-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = 'NI').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 4"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 27e02a7f-6add-11ec-2407-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364611006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364611006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364611006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364611006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-MaternalObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364611006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364611006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364611006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '55821000146102' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '55821000146102' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '55821000146102' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-9"/>
            <description value="Contains .bodySite with .coding with .system 'http://snomed.info/sct' and .code 'NI'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = 'NI').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${27e02a7f-6add-11ec-2407-020000000000-id}').bodySite.coding.where(system = 'http://snomed.info/sct' and code = 'NI').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 5"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: bfc4e51e-6ac5-11ec-2410-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289251005'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289251005'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='289251005'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='289251005'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '289251005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '289251005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '289251005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-9"/>
            <description value="Contains .valueDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').value.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${bfc4e51e-6ac5-11ec-2410-020000000000-id}').value.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 6"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: dd72bb4f-6b15-11ec-2412-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168089007'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168089007'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168089007'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168089007'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '168089007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '168089007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '168089007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '168090003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '168090003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${dd72bb4f-6b15-11ec-2412-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '168090003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 7"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 3195d1b0-6aed-11ec-2414-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364336006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364336006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364336006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364336006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364336006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364336006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364336006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '80801000146105' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '80801000146105' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${3195d1b0-6aed-11ec-2414-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '80801000146105' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 8"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 7531ae30-6b6a-11ec-2416-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='271692001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='271692001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='271692001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='271692001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-FetusObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '271692001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '271692001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '271692001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="8-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '37235006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '37235006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${7531ae30-6b6a-11ec-2416-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '37235006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 9"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: b3cd809c-6b42-11ec-2419-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='366344009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='366344009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='366344009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='366344009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-BirthObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '366344009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '366344009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '366344009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="9-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '56321000146103' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '56321000146103' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${b3cd809c-6b42-11ec-2419-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '56321000146103' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 10"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 6784b58f-6ae0-11ec-2421-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='236994008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='236994008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='236994008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='236994008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '236994008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '236994008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '236994008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="10-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '149161000146109' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '149161000146109' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${6784b58f-6ae0-11ec-2421-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '149161000146109' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 11"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: c08597cf-6b4f-11ec-2423-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='136311000146100'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='136311000146100'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='136311000146100'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='136311000146100'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '136311000146100' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '136311000146100' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '136311000146100' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="11-8"/>
            <description value="Contains .valueDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').value.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${c08597cf-6b4f-11ec-2423-020000000000-id}').value.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 12"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 980bcd0f-6aeb-11ec-2424-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364343000'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364343000'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364343000'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364343000'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364343000' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364343000' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364343000' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="12-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '249170006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249170006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${980bcd0f-6aeb-11ec-2424-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249170006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 13"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 24bf3ccf-6b1c-11ec-2425-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168123008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168123008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='168123008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='168123008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '168123008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '168123008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '168123008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="13-9"/>
            <description value="Contains .valueBoolean 'true'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').value.ofType(boolean) = true'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${24bf3ccf-6b1c-11ec-2425-020000000000-id}').value.where($this is boolean) = true"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 14"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 2afc5926-6b10-11ec-2426-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='726566009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='726566009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='726566009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='726566009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '726566009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '726566009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '726566009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="14-8"/>
            <description value="Contains .valueString with a value. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').value.ofType(string).hasValue()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${2afc5926-6b10-11ec-2426-020000000000-id}').value.where($this is string).hasValue()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 15"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 382a96cf-6b4d-11ec-2427-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364351002'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364351002'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364351002'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364351002'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364351002' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364351002' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364351002' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="15-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '249181009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249181009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${382a96cf-6b4d-11ec-2427-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '249181009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 16"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 468beaf4-6b5c-11ec-2429-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249191003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249191003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='249191003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='249191003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '249191003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249191003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '249191003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="16-9"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '29691000146104' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '29691000146104' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${468beaf4-6b5c-11ec-2429-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '29691000146104' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 17"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: a46197ee-6ae9-11ec-2396-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364332008'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364332008'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='364332008'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='364332008'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '364332008' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364332008' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '364332008' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="17-9"/>
            <description value="Contains .valueQuantity with .value '600' and .unit and .system 'http://unitsofmeasure.org' and .code 'ml'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').value.ofType(Quantity).where(value = 600 and unit and system = 'http://unitsofmeasure.org' and code = 'ml').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${a46197ee-6ae9-11ec-2396-020000000000-id}').value.where($this is Quantity).where(value = 600 and unit and system = 'http://unitsofmeasure.org' and code = 'ml').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 18"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: d7b0ca60-6b14-11ec-2408-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160621000146107'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160621000146107'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160621000146107'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160621000146107'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '160621000146107' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '160621000146107' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '160621000146107' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="18-8"/>
            <description value="Contains .effectiveDateTime"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').effective.ofType(dateTime).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${d7b0ca60-6b14-11ec-2408-020000000000-id}').effective.where($this is dateTime).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="8b-ServeObservations - Check Observation 19"/>
      <description value="Check if the previous operation results in a FHIR Observation that contains the values that are expected following Nictiz' materials (fixture .id: 5ca1857f-6ac5-11ec-2409-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Observation"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160611000146102'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160611000146102'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Observation resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(code.where(coding.where(code='160611000146102'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(code.where(coding.where(code='160611000146102'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation' and .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryObservation') and profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-observation')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3' with .valueReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.ofType(Reference).where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').extension('http://nictiz.nl/fhir/StructureDefinition/observation-focusSTU3').value.where($this is Reference).where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-4"/>
            <description value="Contains .status 'final'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').status = 'final''-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').status = 'final'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '160611000146102' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '160611000146102' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '160611000146102' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="19-8"/>
            <description value="Contains .valueCodeableConcept with .coding with .system 'http://snomed.info/sct' and .code '84457005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').value.ofType(CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '84457005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Observation).where(id = '${5ca1857f-6ac5-11ec-2409-020000000000-id}').value.where($this is CodeableConcept).coding.where(system = 'http://snomed.info/sct' and code = '84457005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="9-ServeProcedures">
      <name value="9-ServeProcedures"/>
      <description value="Test Server query operation for (Obstetric) Procedures"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Procedure"/>
            <description value="Test XIS server to serve Procedure resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?context=EpisodeOfCare/${episode-id}&amp;_include=Procedure:performer&amp;_include=Procedure:based-on"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-9-ServeProcedures"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 6 Procedure resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Procedure)).count() = 6"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!--      <nts:include value="assert.response.numResources" scope="common" resource="Organization" count="0"/>
      <nts:include value="assert.response.numResources" scope="common" resource="ProcedureRequest" count="0"/>-->
      <!-- echografie foetus -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 241491007. (echografie foetus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '241491007').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- bevalling -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 236973005. (bevalling)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '236973005').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- vaginaal toucher -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 51597003. (vaginaal toucher)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '51597003').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- sectio -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 80801000146105. (sectio)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '80801000146105').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- prenatale risico evaluatie -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 713076009. (ligging foetus)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '713076009').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- manuele verwijdering achtergebleven placenta -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 28233006. (manuele verwijdering achtergebleven placenta)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '28233006').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- geboorte -->
      <action>
         <assert>
            <description value="Confirm that the returned searchset Bundle contains 1 Procedure resource(s) with code http://snomed.info/sct | 3950001. (geboorte)"/>
            <direction value="response"/>
            <expression value="Bundle.where(entry.where(resource.is(Procedure)).resource.code.coding.where(system = 'http://snomed.info/sct' and code = '3950001').count()=1).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 1"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: 056324ee-6acd-11ec-2119-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='241491007'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='241491007'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='241491007'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='241491007'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '241491007' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '241491007' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '241491007' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9"/>
            <description value="Contains .performedPeriod with .start"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').performed.ofType(Period).start.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').performed.where($this is Period).start.exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-10"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${056324ee-6acd-11ec-2119-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 2"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: b6353a4f-6b23-11ec-2123-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='236973005'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='236973005'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='236973005'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='236973005'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryProcedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryProcedure').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-DeliveryProcedure').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-3"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-4"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-5"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '236973005' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '236973005' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '236973005' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-6"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-7"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="2-8"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${b6353a4f-6b23-11ec-2123-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 3"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: 301e89cf-6aba-11ec-2154-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='51597003'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='51597003'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='51597003'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='51597003'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-4"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '51597003' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '51597003' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '51597003' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="3-9"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${301e89cf-6aba-11ec-2154-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 4"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: e550de2e-6aba-11ec-2160-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='80801000146105'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='80801000146105'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='80801000146105'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='80801000146105'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure' and .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-ObstetricProcedure')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-4"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-5"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-6"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-7"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '80801000146105' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '80801000146105' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '80801000146105' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-8"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-9"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-10"/>
            <description value="Contains .performedPeriod with .start"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').performed.ofType(Period).start.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').performed.where($this is Period).start.exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="4-11"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${e550de2e-6aba-11ec-2160-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 5"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: a02f847a-6b10-11ec-2241-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='713076009'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='713076009'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='713076009'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='713076009'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure' and .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-4"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '713076009' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '713076009' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '713076009' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-9"/>
            <description value="Contains .performedPeriod with .start and .end"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').performed.ofType(Period).where(start and end).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').performed.where($this is Period).where(start and end).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="5-10"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${a02f847a-6b10-11ec-2241-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 6"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: 49646dfa-6b05-11ec-2108-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='28233006'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='28233006'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='28233006'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='28233006'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure' and .profile 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').meta.where(profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure') and profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/zib-Procedure')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-4"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '28233006' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '28233006' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '28233006' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="6-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${49646dfa-6b05-11ec-2108-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="9-ServeProcedures - Check Procedure 7"/>
      <description value="Check if the previous operation results in a FHIR Procedure that contains the values that are expected following Nictiz' materials (fixture .id: 51e522ef-6b5e-11ec-2123-020000000000)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 Procedure"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='3950001'))).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='3950001'))).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Procedure resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(code.where(coding.where(code='3950001'))).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(code.where(coding.where(code='3950001'))).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-1"/>
            <description value="Contains .meta with .profile 'http://nictiz.nl/fhir/StructureDefinition/bc-Birth'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Birth').exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').meta.profile.where($this = 'http://nictiz.nl/fhir/StructureDefinition/bc-Birth').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-2"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-3"/>
            <description value="Contains .partOf with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').partOf.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').partOf.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-4"/>
            <description value="Contains .status 'completed'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').status = 'completed''-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').status = 'completed'"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-5"/>
            <description value="Contains .category with .coding with .system 'http://snomed.info/sct' and .code '386637004' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').category.coding.where(system = 'http://snomed.info/sct' and code = '386637004' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-6"/>
            <description value="Contains .code with .coding with .system 'http://snomed.info/sct' and .code '3950001' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '3950001' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').code.coding.where(system = 'http://snomed.info/sct' and code = '3950001' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-7"/>
            <description value="Contains .subject with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').subject.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').subject.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-8"/>
            <description value="Contains .context with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').context.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').context.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-10"/>
            <description value="Contains .location with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').location.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').location.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="7-11"/>
            <description value="Contains .reasonReference with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is Procedure).where(id = '${51e522ef-6b5e-11ec-2123-020000000000-id}').reasonReference.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="10-ServeCareTeam">
      <name value="10-ServeCareTeam"/>
      <description value="Test Server query operation for CareTeam"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="CareTeam"/>
            <description value="Test XIS server to serve CareTeam resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?context=EpisodeOfCare/${episode-id}"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <description value="Confirm that the parameters in the request URL are all handled by the server, by inspecting the self link."/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 0 CareTeam resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(CareTeam)).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="11-ServeConsent">
      <name value="11-ServeConsent"/>
      <description value="Test Server query operation for Consent"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="Consent"/>
            <description value="Test XIS server to serve Consent resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 0 Consent resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Consent)).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test id="12-RelatedPerson">
      <name value="12-RelatedPerson"/>
      <description value="Test Server query operation for RelatedPerson"/>
      <action>
         <operation>
            <type>
               <system value="http://hl7.org/fhir/restful-interaction"/>
               <code value="search"/>
            </type>
            <resource value="RelatedPerson"/>
            <description value="Test XIS server to serve RelatedPerson resources."/>
            <accept value="xml"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <requestHeader>
               <field value="X-Correlation-ID"/>
               <value value="${X-Correlation-ID}"/>
            </requestHeader>
            <responseId value="fixture-12-RelatedPerson"/>
         </operation>
      </action>
      <action>
         <assert>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <stopTestOnFail value="false"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <stopTestOnFail value="false"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Coding)).all(system.exists() and code.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).where(system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2')).exists().not()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.exists() implies (Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count())"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="Confirm that the response Bundle contains 2 RelatedPerson resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(RelatedPerson)).count() = 2"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <!-- TODO: add discriminator or selector -->
      <!-- TODO: relatedperson jasper is niet gevonden -->
      <!-- <nts:contentAsserts href="mm-gbz-nl-core-relatedperson-relatedperson-mm-gbz-JASPERXXX-YZENDOORN.xml" nts:in-targets="CheckContent"/>-->
   </test>
   <test>
      <name value="12-RelatedPerson - Check RelatedPerson"/>
      <description value="Check if the previous operation results in a FHIR RelatedPerson that contains the values that are expected following Nictiz' materials (fixture .id: relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN)"/>
      <action>
         <assert>
            <description value="Response Bundle contains exactly 1 RelatedPerson"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).count() = 1'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).count() = 1"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <description value="RelatedPerson resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).id.exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).id.exists()"/>
            <stopTestOnFail value="true"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson'"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').meta.profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-2"/>
            <description value="Contains .extension with url 'http://nictiz.nl/fhir/StructureDefinition/bc-patient-genderIdentity' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.4.642.4.973' and .code 'non-binary' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').extension('http://nictiz.nl/fhir/StructureDefinition/bc-patient-genderIdentity').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.4.642.4.973' and code = 'non-binary' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').extension('http://nictiz.nl/fhir/StructureDefinition/bc-patient-genderIdentity').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.4.642.4.973' and code = 'non-binary' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-3"/>
            <description value="Contains .extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson-role' with .valueCodeableConcept with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and .code '1' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').extension('http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson-role').value.ofType(CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and code = '1' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').extension('http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson-role').value.where($this is CodeableConcept).coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and code = '1' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-4"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').identifier.where(system and value).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').identifier.where(system and value).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-5"/>
            <description value="Contains .patient with either .reference or .identifier and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').patient.where((reference or identifier) and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').patient.where((reference or identifier) and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-6"/>
            <description value="Contains .relationship with .coding with .system 'http://hl7.org/fhir/v3/RoleCode' and .code 'WIFE' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').relationship.coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'WIFE' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').relationship.coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'WIFE' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-7"/>
            <description value="Contains .relationship with .coding with .system 'http://hl7.org/fhir/v3/RoleCode' and .code 'DOMPART' and .display"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').relationship.coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'DOMPART' and display).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').relationship.coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'DOMPART' and display).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8"/>
            <description value="Contains .name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL3' and .text with a value, and .family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value, and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR', and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN', and .given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL3' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL3' and text.hasValue() and family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()) and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN') and given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-1"/>
            <description value="Contains .name.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL3'. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.ofType(code) = 'NL3').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').value.where($this is code) = 'NL3').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-2"/>
            <description value="Contains .name.text with a value. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(text.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(text.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3"/>
            <description value="Contains .name.family with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue() and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-1"/>
            <description value="Contains .name.family with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-2"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-3"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-3-4"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString with a value. This assert checks only one child. Assert 1-8-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.ofType(string).hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').value.where($this is string).hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-4"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-4-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-8-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-4-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-8-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'BR')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'BR')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-5"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-5-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-8-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-5-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-8-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'IN')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'IN')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6"/>
            <description value="Contains .name.given with a value and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-8 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL').exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue() and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL').exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6-1"/>
            <description value="Contains .name.given with a value. This assert checks only one child. Assert 1-8-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where($this.hasValue()).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-8-6-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-8-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.ofType(code) = 'CL')).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').name.where(given.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').value.where($this is code) = 'CL')).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9"/>
            <description value="Contains .telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display and .system 'phone', and .value with a value, and .use 'mobile'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display) and system = 'phone' and value.hasValue() and use = 'mobile').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display) and system = 'phone' and value.hasValue() and use = 'mobile').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-1"/>
            <description value="Contains .telecom.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.ofType(CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display).exists()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').value.where($this is CodeableConcept).coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display).exists()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-2"/>
            <description value="Contains .telecom.system 'phone'. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'phone').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'phone').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-3"/>
            <description value="Contains .telecom.value with a value. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-9-4"/>
            <description value="Contains .telecom.use 'mobile'. This assert checks only one child. Assert 1-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(use = 'mobile').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(use = 'mobile').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-10"/>
            <description value="Contains .telecom with .system 'email', and .value with a value. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'email' and value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'email' and value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-10-1"/>
            <description value="Contains .telecom.system 'email'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'email').exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(system = 'email').exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <label value="1-10-2"/>
            <description value="Contains .telecom.value with a value. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent. This assert only checks existence of a value, because string comparisons can have many possible caveats"/>
            <direction value="response"/>
            <!--FHIRPath expressions with .ofType(...) are poorly supported at the moment, so it was rewritten. Original expression: 'Bundle.entry.resource.ofType(RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(value.hasValue()).exists()'-->
            <expression value="Bundle.entry.resource.where($this is RelatedPerson).where(id = '${relatedperson-mm-gbz-LILIANLLILIANVAN-DEN-XXX-BERGXXX-YZENDOORN-id}').telecom.where(value.hasValue()).exists()"/>
            <stopTestOnFail value="false"/>
            <warningOnly value="true"/>
         </assert>
      </action>
   </test>
</TestScript>
