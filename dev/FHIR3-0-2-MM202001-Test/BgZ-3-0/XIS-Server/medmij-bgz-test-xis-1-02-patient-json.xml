<?xml version="1.0" encoding="UTF-8"?>
<TestScript xmlns="http://hl7.org/fhir" xmlns:nts="http://nictiz.nl/xsl/testscript">
   <id value="medmij-bgz-test-xis-1-02-json"/>
   <meta>
      <profile value="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript"/>
   </meta>
   <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-rule">
      <extension url="ruleId">
         <valueId value="assert-response-queryParamsInSelfLink"/>
      </extension>
      <extension url="path">
         <valueString value="../_reference/rules/assert_response_queryParamsInSelfLink.groovy"/>
      </extension>
   </extension>
   <url value="http://nictiz.nl/fhir/TestScript/medmij-bgz-test-xis-1-02-json"/>
   <version value="stu3-3.0-patchlevel 2023-06"/>
   <name value="BgZ - XIS Server - Test - Scenario 1.02, 1.05 and 1.19 - Retrieve BgZ Patient resources of XXX_Rijn - JSON Format"/>
   <status value="active"/>
   <publisher value="Nictiz"/>
   <contact>
      <name value="Nictiz"/>
      <telecom>
         <system value="email"/>
         <value value="kwalificatie@nictiz.nl"/>
         <use value="work"/>
      </telecom>
   </contact>
   <description value="Scenario 1.02, 1.05 and 1.19 - Serve BgZ Patient resources of XXX_Rijn, includes ContactPerson and HealthProfessional (General practitioner)"/>
   <origin>
      <index value="1"/>
      <profile>
         <system value="http://terminology.hl7.org/CodeSystem/testscript-profile-origin-types"/>
         <code value="FHIR-Client"/>
      </profile>
   </origin>
   <destination>
      <index value="1"/>
      <profile>
         <system value="http://terminology.hl7.org/CodeSystem/testscript-profile-destination-types"/>
         <code value="FHIR-Server"/>
      </profile>
   </destination>
   <profile id="Bundle-profile">
      <reference value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
   </profile>
   <variable>
      <name value="patient-token-id"/>
      <defaultValue value="Bearer 7ce7c666-6f96-40a7-a8fa-922056cb18b4"/>
      <description value="OAuth Token for current patient"/>
   </variable>
   <variable>
      <name value="medmij-bgz-test-patA-id"/>
      <description value="Resource.id for Observation 1"/>
      <expression value="Bundle.entry.resource.ofType(Patient).id"/>
      <sourceId value="fixture-response"/>
   </variable>
   <test>
      <name value="Scenario 1.02 - Patient"/>
      <description value="Serve Patient resource including the patient's general practitioner for zib Patient"/>
      <action>
         <operation>
            <type>
               <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
               <code value="search"/>
            </type>
            <resource value="Patient"/>
            <description value="Test XIS server to serve Patient resources."/>
            <accept value="json"/>
            <destination value="1"/>
            <encodeRequestUrl value="true"/>
            <origin value="1"/>
            <params value="?_include=Patient:general-practitioner"/>
            <requestHeader>
               <field value="Authorization"/>
               <value value="${patient-token-id}"/>
            </requestHeader>
            <requestHeader>
               <field value="MedMij-Request-ID"/>
               <value value="${UUID}"/>
            </requestHeader>
            <responseId value="fixture-response"/>
         </operation>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="true"/>
            </extension>
            <description value="Confirm that the operation was successful"/>
            <operator value="in"/>
            <responseCode value="200,201"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the returned resource type is Bundle."/>
            <direction value="response"/>
            <resource value="Bundle"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the returned Bundle type is searchset."/>
            <direction value="response"/>
            <expression value="Bundle.type"/>
            <operator value="equals"/>
            <value value="searchset"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all returned resources contain an Resource.id except when temporary ids are used in the Bundle. The only time that a resource does not have an id is when it is being submitted to the server using a create operation: https://www.hl7.org/fhir/STU3/resource-definitions.html#Resource.id "/>
            <direction value="response"/>
            <expression value="Bundle.entry.all( $this.fullUrl.matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or $this.fullUrl.matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or $this.resource.id.exists())"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all returned resources except OperationOutcome and Binary contain a meta.profile tag."/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.where(is(OperationOutcome).not()).where(is(Binary).not()).where(meta.profile.empty()).empty()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the fullUrl does not disagree with the id in the resource, see http://hl7.org/fhir/stu3/bundle-definitions.html#Bundle.entry.fullUrl"/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(fullUrl.exists() and resource.id.exists()).all($this.fullUrl.endsWith($this.resource.id))"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the fullUrl is an absolute URL, an uuid or an oid."/>
            <direction value="response"/>
            <expression value="Bundle.entry.fullUrl.all( startsWith('http://') or startsWith('https://') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') )"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that literal References (Reference.reference) are an absolute URL, a relative URL or an internal fragment reference (contained), see: http://hl7.org/fhir/stu3/references.html#literal."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this as Reference).reference.all( startsWith('http://') or startsWith('https://') or startsWith('#') or matches('^urn:oid:[0-2](\\.(0|[1-9]\\d*))*$') or matches('^urn:uuid:[A-Fa-f\\d]{8}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{4}-[A-Fa-f\\d]{12}$') or (startsWith('urn:').not() and startsWith('#').not() and matches('^[A-Za-z]{3,}/[^/]+$')) )"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the returned Bundle conforms to the base FHIR specification and the resources to the stated profiles in the meta.profile tag."/>
            <direction value="response"/>
            <validateProfileId value="Bundle-profile"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all coding elements contain both a .system and a .code."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).all(system.exists() and code.exists())"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the OID of the zib valueset is not used for the system of a coding element."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(coding)).system.startsWith('urn:oid:2.16.840.1.113883.2.4.3.11.60.40.2').not()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all CodeableConcept elements contain either a coding.display or a text value if no Coding exists or has an extension (e.g. a nullFlavor or data-absent-reason extension). For more information see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3Use_of_coded_concepts."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(CodeableConcept)) .all(coding.display.exists() or text.exists() or extension.exists())"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all References have a display value, see https://informatiestandaarden.nictiz.nl/wiki/FHIR:V1.0_FHIR_IG_STU3#Use_of_the_reference_datatype."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Reference)).all(display.exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/data-absent-reason').exists() or extension.where(url = 'http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor').exists())"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that all Identifiers have both a .system and a .value. In rare cases where a general category of identifiers can be used, .type can replace .system. Edge cases for both .system and .type to be unknown are not applicable to Nictiz. For more information, see https://www.hl7.org/fhir/stu3/datatypes.html#Identifier."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().where($this.is(Identifier)).all((system.exists() or type.exists()) and value.exists())"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) anywhere."/>
            <direction value="response"/>
            <expression value="Bundle.descendants().select(identifier.where(system = 'http://fhir.nl/fhir/NamingSystem/bsn').where(value.empty().not() and value.extension.exists().not())).count() = 0"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the returned Bundle total value matches or is less than the number of entries in the Bundle. The included resources should not be counted as entries in the Bundle.total."/>
            <direction value="response"/>
            <expression value="Bundle.total.toInteger() &lt;= Bundle.entry.where(search.empty() or search.mode = 'match').count()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the returned Bundle contains a self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.where(relation = 'self' and url.exists()).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that Bundle does not use Burgerservicenummer (BSN) in the self link."/>
            <direction value="response"/>
            <expression value="Bundle.link.url.contains('http://fhir.nl/fhir/NamingSystem/bsn') = false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-rule">
               <extension url="ruleId">
                  <valueId value="assert-response-queryParamsInSelfLink"/>
               </extension>
            </extension>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <description value="Confirm that the response Bundle contains 1 Practitioner resource(s). "/>
            <direction value="response"/>
            <expression value="Bundle.entry.where(resource.is(Practitioner)).count() = 1"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
   <test>
      <name value="Scenario 1.02 - Patient - Check Patient"/>
      <description value="Check if the previous operation results in a FHIR Patient that contains the values that are expected following Nictiz' materials (fixture .id: medmij-bgz-test-patA)"/>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="true"/>
            </extension>
            <description value="Response Bundle contains exactly 1 Patient"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).count() = 1"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="true"/>
            </extension>
            <description value="Patient resource evaluated in the previous assert contains an .id"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).id.exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-1"/>
            <description value="Contains .meta with .profile 'http://fhir.nl/fhir/StructureDefinition/nl-core-patient'"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').meta.where(profile.where($this = 'http://fhir.nl/fhir/StructureDefinition/nl-core-patient').exists()).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-2"/>
            <description value="Contains .text"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').text.exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-3"/>
            <description value="Contains .identifier with .system and .value"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').identifier.where(system and value).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4"/>
            <description value="Contains .name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1' and .family 'van XXX_Rijn' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'van' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Rijn' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString 'de' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString 'XXX_Vries' and .given 'Anouk' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR' and .given 'A.' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN' and .given 'Anouk' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').where(value.ofType(code) = 'NL1') and family.where($this.replace('.', '').replace(',', '') ~ 'van XXX_Rijn' and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'van') and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Rijn') and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de') and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries')) and given.where($this.replace('.', '').replace(',', '') ~ 'Anouk' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR')) and given.where($this.replace('.', '').replace(',', '') ~ 'A' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN')) and given.where($this.replace('.', '').replace(',', '') ~ 'Anouk' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL'))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-1"/>
            <description value="Contains .name.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').where(value.ofType(code) = 'NL1').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2"/>
            <description value="Contains .name.family 'van XXX_Rijn' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'van' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Rijn' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString 'de' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString 'XXX_Vries'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.where($this.replace('.', '').replace(',', '') ~ 'van XXX_Rijn' and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'van') and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Rijn') and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de') and extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2-1"/>
            <description value="Contains .name.family 'van XXX_Rijn'. This assert checks only one child. Assert 1-4-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.replace('.', '').replace(',', '') ~ 'van XXX_Rijn'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2-2"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'van'. This assert checks only one child. Assert 1-4-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'van').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2-3"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Rijn'. This assert checks only one child. Assert 1-4-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Rijn').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2-4"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix' with .valueString 'de'. This assert checks only one child. Assert 1-4-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-2-5"/>
            <description value="Contains .name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-partner-name' with .valueString 'XXX_Vries'. This assert checks only one child. Assert 1-4-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-partner-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-3"/>
            <description value="Contains .name.given 'Anouk' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'Anouk' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-3-1"/>
            <description value="Contains .name.given 'Anouk'. This assert checks only one child. Assert 1-4-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'Anouk').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-3-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-4-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-4"/>
            <description value="Contains .name.given 'A.' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'A' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-4-1"/>
            <description value="Contains .name.given 'A.'. This assert checks only one child. Assert 1-4-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'A').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-4-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-4-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-5"/>
            <description value="Contains .name.given 'Anouk' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-4 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'Anouk' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-5-1"/>
            <description value="Contains .name.given 'Anouk'. This assert checks only one child. Assert 1-4-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.where($this.replace('.', '').replace(',', '') ~ 'Anouk').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-4-5-2"/>
            <description value="Contains .name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-4-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-5"/>
            <description value="Contains .telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display and .system 'phone' and .value '0612345678' and .use 'home'. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display))) and system = 'phone' and value.replace('.', '').replace(',', '') ~ '0612345678' and use = 'home').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-5-1"/>
            <description value="Contains .telecom.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display. This assert checks only one child. Assert 1-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-5-2"/>
            <description value="Contains .telecom.system 'phone'. This assert checks only one child. Assert 1-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.system = 'phone'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-5-3"/>
            <description value="Contains .telecom.value '0612345678'. This assert checks only one child. Assert 1-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.value.replace('.', '').replace(',', '') ~ '0612345678'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-5-4"/>
            <description value="Contains .telecom.use 'home'. This assert checks only one child. Assert 1-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-6"/>
            <description value="Contains .telecom with .system 'email' and .value 'A.van.XXX_Rijn@gmail.com' and .use 'home'"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.where(system = 'email' and value.replace('.', '').replace(',', '') ~ 'AvanXXX_Rijn@gmailcom' and use = 'home').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-6-1"/>
            <description value="Contains .telecom.system 'email'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.system = 'email'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-6-2"/>
            <description value="Contains .telecom.value 'A.van.XXX_Rijn@gmail.com'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.value.replace('.', '').replace(',', '') ~ 'AvanXXX_Rijn@gmailcom'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-6-3"/>
            <description value="Contains .telecom.use 'home'. This assert checks only one child. Assert 1-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').telecom.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-7"/>
            <description value="Contains .gender 'female' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AdministrativeGender' and .code 'F' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').gender.where($this = 'female' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display)))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-7-1"/>
            <description value="Contains .gender 'female'. This assert checks only one child. Assert 1-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').gender = 'female'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-7-2"/>
            <description value="Contains .gender.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AdministrativeGender' and .code 'F' and .display. This assert checks only one child. Assert 1-7 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').gender.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AdministrativeGender' and code = 'F' and display))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-8"/>
            <description value="Contains .birthDate"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').birthDate.exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-9"/>
            <description value="Contains .deceasedBoolean 'false'"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').deceased.ofType(boolean) = false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10"/>
            <description value="Contains .address with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'HP' and .display and .extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-address-official' with .valueBoolean 'true' and .use 'home' and .type 'physical' and .line 'Knolweg 1002 A - Hoogbouw to' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString 'A' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString '-' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID' with .valueString 'Hoogbouw' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to' and .city 'Stitswerd' and .district 'Het Hogeland' and .postalCode '9999ZZ' and .country 'NLD' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'HP' and display))) and extension('http://fhir.nl/fhir/StructureDefinition/nl-core-address-official').where(value.ofType(boolean) = true) and use = 'home' and type = 'physical' and line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 A - Hoogbouw to' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'A') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ '-') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Hoogbouw') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to')) and city.replace('.', '').replace(',', '') ~ 'Stitswerd' and district.replace('.', '').replace(',', '') ~ 'Het Hogeland' and postalCode.replace('.', '').replace(',', '') ~ '9999ZZ' and country.where($this.replace('.', '').replace(',', '') ~ 'NLD' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display))))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-1"/>
            <description value="Contains .address.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'HP' and .display. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'HP' and display))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-2"/>
            <description value="Contains .address.extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-address-official' with .valueBoolean 'true'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.extension('http://fhir.nl/fhir/StructureDefinition/nl-core-address-official').where(value.ofType(boolean) = true).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-3"/>
            <description value="Contains .address.use 'home'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-4"/>
            <description value="Contains .address.type 'physical'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.type = 'physical'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5"/>
            <description value="Contains .address.line 'Knolweg 1002 A - Hoogbouw to' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString 'A' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString '-' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID' with .valueString 'Hoogbouw' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 A - Hoogbouw to' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'A') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ '-') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Hoogbouw') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-1"/>
            <description value="Contains .address.line 'Knolweg 1002 A - Hoogbouw to'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 A - Hoogbouw to').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-2"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-3"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-4"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString 'A'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'A').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-5"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix' with .valueString '-'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-buildingNumberSuffix').where(value.ofType(string).replace('.', '').replace(',', '') ~ '-').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-6"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID' with .valueString 'Hoogbouw'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Hoogbouw').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-5-7"/>
            <description value="Contains .address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to'. This assert checks only one child. Assert 1-10-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-6"/>
            <description value="Contains .address.city 'Stitswerd'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.city.replace('.', '').replace(',', '') ~ 'Stitswerd'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-7"/>
            <description value="Contains .address.district 'Het Hogeland'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.district.replace('.', '').replace(',', '') ~ 'Het Hogeland'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-8"/>
            <description value="Contains .address.postalCode '9999ZZ'. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.postalCode.replace('.', '').replace(',', '') ~ '9999ZZ'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-9"/>
            <description value="Contains .address.country 'NLD' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks only one child. Assert 1-10 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.country.where($this.replace('.', '').replace(',', '') ~ 'NLD' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display)))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-9-1"/>
            <description value="Contains .address.country 'NLD'. This assert checks only one child. Assert 1-10-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.country.replace('.', '').replace(',', '') ~ 'NLD'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-10-9-2"/>
            <description value="Contains .address.country.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks only one child. Assert 1-10-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').address.country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-11"/>
            <description value="Contains .maritalStatus with .coding with .system 'urn:oid:2.16.840.1.113883.5.2' and .code 'S' and .display"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').maritalStatus.where(coding.where(system = 'urn:oid:2.16.840.1.113883.5.2' and code = 'S' and display)).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-12"/>
            <description value="Contains .multipleBirthBoolean 'false'"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').multipleBirth.ofType(boolean) = false"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13"/>
            <description value="Contains .contact with .relationship with .coding with .system 'http://hl7.org/fhir/v3/RoleCode' and .code 'DOMPART' and .display and .relationship with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and .code '1' and .display and .name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1' and .family 'de XXX_Vries' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'de' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Vries' and .given 'Benedictus' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR' and .given 'B.' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN' and .given 'Ben' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL' and .telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display and .system 'phone' and .value '06-12345678' and .use 'home' and .telecom with .system 'email' and .value 'Ben.de.XXX_Vries@gmail.com' and .use 'home' and .address with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'HP' and .display and .extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-address-official' with .valueBoolean 'true' and .use 'home' and .type 'physical' and .line 'Knolweg 1002 to' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to' and .city 'Stitswerd' and .district 'Het Hogeland' and .postalCode '9999ZZ' and .country 'NLD' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.where(relationship.where(coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'DOMPART' and display)) and relationship.where(coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and code = '1' and display)) and name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').where(value.ofType(code) = 'NL1') and family.where($this.replace('.', '').replace(',', '') ~ 'de XXX_Vries' and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de') and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries')) and given.where($this.replace('.', '').replace(',', '') ~ 'Benedictus' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR')) and given.where($this.replace('.', '').replace(',', '') ~ 'B' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN')) and given.where($this.replace('.', '').replace(',', '') ~ 'Ben' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL'))) and telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display))) and system = 'phone' and value.replace('.', '').replace(',', '') ~ '06-12345678' and use = 'home') and telecom.where(system = 'email' and value.replace('.', '').replace(',', '') ~ 'BendeXXX_Vries@gmailcom' and use = 'home') and address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'HP' and display))) and extension('http://fhir.nl/fhir/StructureDefinition/nl-core-address-official').where(value.ofType(boolean) = true) and use = 'home' and type = 'physical' and line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 to' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to')) and city.replace('.', '').replace(',', '') ~ 'Stitswerd' and district.replace('.', '').replace(',', '') ~ 'Het Hogeland' and postalCode.replace('.', '').replace(',', '') ~ '9999ZZ' and country.where($this.replace('.', '').replace(',', '') ~ 'NLD' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display)))))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-1"/>
            <description value="Contains .contact.relationship with .coding with .system 'http://hl7.org/fhir/v3/RoleCode' and .code 'DOMPART' and .display. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.relationship.where(coding.where(system = 'http://hl7.org/fhir/v3/RoleCode' and code = 'DOMPART' and display)).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-2"/>
            <description value="Contains .contact.relationship with .coding with .system 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and .code '1' and .display. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.relationship.where(coding.where(system = 'urn:oid:2.16.840.1.113883.2.4.3.11.22.472' and code = '1' and display)).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3"/>
            <description value="Contains .contact.name with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1' and .family 'de XXX_Vries' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'de' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Vries' and .given 'Benedictus' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR' and .given 'B.' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN' and .given 'Ben' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.where(extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').where(value.ofType(code) = 'NL1') and family.where($this.replace('.', '').replace(',', '') ~ 'de XXX_Vries' and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de') and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries')) and given.where($this.replace('.', '').replace(',', '') ~ 'Benedictus' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR')) and given.where($this.replace('.', '').replace(',', '') ~ 'B' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN')) and given.where($this.replace('.', '').replace(',', '') ~ 'Ben' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL'))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-1"/>
            <description value="Contains .contact.name.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-assembly-order' with .valueCode 'NL1'. This assert checks only one child. Assert 1-13-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.extension('http://hl7.org/fhir/StructureDefinition/humanname-assembly-order').where(value.ofType(code) = 'NL1').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-2"/>
            <description value="Contains .contact.name.family 'de XXX_Vries' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'de' and .extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Vries'. This assert checks only one child. Assert 1-13-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.family.where($this.replace('.', '').replace(',', '') ~ 'de XXX_Vries' and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de') and extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-2-1"/>
            <description value="Contains .contact.name.family 'de XXX_Vries'. This assert checks only one child. Assert 1-13-3-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.family.replace('.', '').replace(',', '') ~ 'de XXX_Vries'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-2-2"/>
            <description value="Contains .contact.name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-prefix' with .valueString 'de'. This assert checks only one child. Assert 1-13-3-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-prefix').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'de').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-2-3"/>
            <description value="Contains .contact.name.family.extension with url 'http://hl7.org/fhir/StructureDefinition/humanname-own-name' with .valueString 'XXX_Vries'. This assert checks only one child. Assert 1-13-3-2 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.family.extension('http://hl7.org/fhir/StructureDefinition/humanname-own-name').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'XXX_Vries').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-3"/>
            <description value="Contains .contact.name.given 'Benedictus' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-13-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'Benedictus' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-3-1"/>
            <description value="Contains .contact.name.given 'Benedictus'. This assert checks only one child. Assert 1-13-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'Benedictus').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-3-2"/>
            <description value="Contains .contact.name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'BR'. This assert checks only one child. Assert 1-13-3-3 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'BR').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-4"/>
            <description value="Contains .contact.name.given 'B.' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-13-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'B' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-4-1"/>
            <description value="Contains .contact.name.given 'B.'. This assert checks only one child. Assert 1-13-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'B').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-4-2"/>
            <description value="Contains .contact.name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'IN'. This assert checks only one child. Assert 1-13-3-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'IN').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-5"/>
            <description value="Contains .contact.name.given 'Ben' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-13-3 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'Ben' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-5-1"/>
            <description value="Contains .contact.name.given 'Ben'. This assert checks only one child. Assert 1-13-3-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.where($this.replace('.', '').replace(',', '') ~ 'Ben').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-3-5-2"/>
            <description value="Contains .contact.name.given.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier' with .valueCode 'CL'. This assert checks only one child. Assert 1-13-3-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.name.given.extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier').where(value.ofType(code) = 'CL').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-4"/>
            <description value="Contains .contact.telecom with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display and .system 'phone' and .value '06-12345678' and .use 'home'. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display))) and system = 'phone' and value.replace('.', '').replace(',', '') ~ '06-12345678' and use = 'home').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-4-1"/>
            <description value="Contains .contact.telecom.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'MC' and .display. This assert checks only one child. Assert 1-13-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.extension('http://nictiz.nl/fhir/StructureDefinition/zib-ContactInformation-TelecomType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'MC' and display))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-4-2"/>
            <description value="Contains .contact.telecom.system 'phone'. This assert checks only one child. Assert 1-13-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.system = 'phone'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-4-3"/>
            <description value="Contains .contact.telecom.value '06-12345678'. This assert checks only one child. Assert 1-13-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.value.replace('.', '').replace(',', '') ~ '06-12345678'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-4-4"/>
            <description value="Contains .contact.telecom.use 'home'. This assert checks only one child. Assert 1-13-4 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-5"/>
            <description value="Contains .contact.telecom with .system 'email' and .value 'Ben.de.XXX_Vries@gmail.com' and .use 'home'. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.where(system = 'email' and value.replace('.', '').replace(',', '') ~ 'BendeXXX_Vries@gmailcom' and use = 'home').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-5-1"/>
            <description value="Contains .contact.telecom.system 'email'. This assert checks only one child. Assert 1-13-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.system = 'email'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-5-2"/>
            <description value="Contains .contact.telecom.value 'Ben.de.XXX_Vries@gmail.com'. This assert checks only one child. Assert 1-13-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.value.replace('.', '').replace(',', '') ~ 'BendeXXX_Vries@gmailcom'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-5-3"/>
            <description value="Contains .contact.telecom.use 'home'. This assert checks only one child. Assert 1-13-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.telecom.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6"/>
            <description value="Contains .contact.address with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'HP' and .display and .extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-address-official' with .valueBoolean 'true' and .use 'home' and .type 'physical' and .line 'Knolweg 1002 to' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to' and .city 'Stitswerd' and .district 'Het Hogeland' and .postalCode '9999ZZ' and .country 'NLD' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks only one child. Assert 1-13 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.where(extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'HP' and display))) and extension('http://fhir.nl/fhir/StructureDefinition/nl-core-address-official').where(value.ofType(boolean) = true) and use = 'home' and type = 'physical' and line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 to' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to')) and city.replace('.', '').replace(',', '') ~ 'Stitswerd' and district.replace('.', '').replace(',', '') ~ 'Het Hogeland' and postalCode.replace('.', '').replace(',', '') ~ '9999ZZ' and country.where($this.replace('.', '').replace(',', '') ~ 'NLD' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display))))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-1"/>
            <description value="Contains .contact.address.extension with url 'http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType' with .valueCodeableConcept with .coding with .system 'http://hl7.org/fhir/v3/AddressUse' and .code 'HP' and .display. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.extension('http://nictiz.nl/fhir/StructureDefinition/zib-AddressInformation-AddressType').where(value.ofType(CodeableConcept).where(coding.where(system = 'http://hl7.org/fhir/v3/AddressUse' and code = 'HP' and display))).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-2"/>
            <description value="Contains .contact.address.extension with url 'http://fhir.nl/fhir/StructureDefinition/nl-core-address-official' with .valueBoolean 'true'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.extension('http://fhir.nl/fhir/StructureDefinition/nl-core-address-official').where(value.ofType(boolean) = true).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-3"/>
            <description value="Contains .contact.address.use 'home'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.use = 'home'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-4"/>
            <description value="Contains .contact.address.type 'physical'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.type = 'physical'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-5"/>
            <description value="Contains .contact.address.line 'Knolweg 1002 to' and with .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002' and .extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 to' and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002') and extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to')).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-5-1"/>
            <description value="Contains .contact.address.line 'Knolweg 1002 to'. This assert checks only one child. Assert 1-13-6-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.line.where($this.replace('.', '').replace(',', '') ~ 'Knolweg 1002 to').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-5-2"/>
            <description value="Contains .contact.address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName' with .valueString 'Knolweg'. This assert checks only one child. Assert 1-13-6-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'Knolweg').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-5-3"/>
            <description value="Contains .contact.address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' with .valueString '1002'. This assert checks only one child. Assert 1-13-6-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').where(value.ofType(string).replace('.', '').replace(',', '') ~ '1002').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-5-4"/>
            <description value="Contains .contact.address.line.extension with url 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator' with .valueString 'to'. This assert checks only one child. Assert 1-13-6-5 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator').where(value.ofType(string).replace('.', '').replace(',', '') ~ 'to').exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-6"/>
            <description value="Contains .contact.address.city 'Stitswerd'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.city.replace('.', '').replace(',', '') ~ 'Stitswerd'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-7"/>
            <description value="Contains .contact.address.district 'Het Hogeland'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.district.replace('.', '').replace(',', '') ~ 'Het Hogeland'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-8"/>
            <description value="Contains .contact.address.postalCode '9999ZZ'. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.postalCode.replace('.', '').replace(',', '') ~ '9999ZZ'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-9"/>
            <description value="Contains .contact.address.country 'NLD' and with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks only one child. Assert 1-13-6 checks if all children are present in the same parent. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.country.where($this.replace('.', '').replace(',', '') ~ 'NLD' and extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display)))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-9-1"/>
            <description value="Contains .contact.address.country 'NLD'. This assert checks only one child. Assert 1-13-6-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.country.replace('.', '').replace(',', '') ~ 'NLD'"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-13-6-9-2"/>
            <description value="Contains .contact.address.country.extension with url 'http://nictiz.nl/fhir/StructureDefinition/code-specification' with .valueCodeableConcept with .coding with .system 'urn:iso:std:iso:3166' and .version and .code 'NLD' and .display. This assert checks only one child. Assert 1-13-6-9 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').contact.address.country.extension('http://nictiz.nl/fhir/StructureDefinition/code-specification').where(value.ofType(CodeableConcept).where(coding.where(system = 'urn:iso:std:iso:3166' and version and code = 'NLD' and display))).exists()"/>
            <warningOnly value="true"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-14"/>
            <description value="Contains .generalPractitioner with .extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display, and with either .reference or .identifier and .display. This assert checks if all children exist (if applicable with their specific values) and if they are present within one element. Following asserts check if individual children exist to help you debug if this assert fails"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').generalPractitioner.where(extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').where(value.ofType(Reference).where((reference or identifier) and display).exists())).where((reference or identifier) and display).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-14-1"/>
            <description value="Contains .generalPractitioner.extension with url 'http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference' with .valueReference with either .reference or .identifier and .display. This assert checks only one child. Assert 1-14 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').generalPractitioner.extension('http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference').where(value.ofType(Reference).where((reference or identifier) and display).exists()).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
      <action>
         <assert>
            <extension url="http://touchstone.aegis.net/touchstone/fhir/testing/StructureDefinition/testscript-assert-stopTestOnFail">
               <valueBoolean value="false"/>
            </extension>
            <label value="1-14-2"/>
            <description value="Contains .generalPractitioner with either .reference or .identifier and .display. This assert checks only one child. Assert 1-14 checks if all children are present in the same parent"/>
            <direction value="response"/>
            <expression value="Bundle.entry.resource.ofType(Patient).where(id = '${medmij-bgz-test-patA-id}').generalPractitioner.where((reference or identifier) and display).exists()"/>
            <warningOnly value="false"/>
         </assert>
      </action>
   </test>
</TestScript>
